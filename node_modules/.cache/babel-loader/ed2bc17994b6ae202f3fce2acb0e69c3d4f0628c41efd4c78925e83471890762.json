{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kiro\\\\remote-job-website\\\\src\\\\pages\\\\JobFeed.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Header from '../components/Header';\nimport JobCard from '../components/JobCard';\nimport JobDetailsDrawer from '../components/JobDetailsDrawer';\nimport { mockJobs } from '../services/mockData';\nimport jobService from '../services/jobService';\nimport fallbackJobService from '../services/fallbackJobService';\nimport realTimeJobService from '../services/RealTimeJobService';\nimport './JobFeed.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst JobFeed = () => {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [filteredJobs, setFilteredJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searching, setSearching] = useState(false);\n  const [selectedJob, setSelectedJob] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const [page, setPage] = useState(0);\n  const [hasMore, setHasMore] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [activeFilters, setActiveFilters] = useState([]);\n  const [dataSources, setDataSources] = useState([]);\n  const [dynamicCategories, setDynamicCategories] = useState([]);\n  const [lastUpdate, setLastUpdate] = useState(null);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [realTimeStats, setRealTimeStats] = useState(null);\n  const observer = useRef();\n  const lastJobElementRef = useCallback(node => {\n    if (loading || loadingMore) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasMore) {\n        loadMoreJobs();\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [loading, loadingMore, hasMore]);\n\n  // åŠ è½½æ›´å¤šå·¥ä½œ\n  const loadMoreJobs = async () => {\n    if (loadingMore || !hasMore) return;\n    setLoadingMore(true);\n    try {\n      const nextPage = page + 1;\n      const designSearchTerms = searchTerm || '';\n      const result = await jobService.searchRemoteJobs(designSearchTerms, {\n        ...activeFilters,\n        category: 'design',\n        page: nextPage\n      });\n      if (result.jobs.length === 0) {\n        setHasMore(false);\n      } else {\n        // å¤„ç†æ–°åŠ è½½çš„å·¥ä½œæ•°æ®\n        const newJobs = filterJobs(result.jobs);\n        if (newJobs.length === 0) {\n          setHasMore(false);\n        } else {\n          setJobs(prevJobs => [...prevJobs, ...newJobs]);\n          setFilteredJobs(prevFiltered => [...prevFiltered, ...newJobs]);\n          setPage(nextPage);\n\n          // æ›´æ–°åŠ¨æ€åˆ†ç±»ï¼ˆåŸºäºŽæ‰€æœ‰å·²åŠ è½½çš„å·¥ä½œï¼‰\n          const allLoadedJobs = [...jobs, ...newJobs];\n          const categories = generateDynamicCategories(allLoadedJobs);\n          setDynamicCategories(categories);\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load more jobs:', error);\n    } finally {\n      setLoadingMore(false);\n    }\n  };\n\n  // æ ¹æ®å·¥ä½œæ•°æ®è‡ªåŠ¨ç”Ÿæˆåˆ†ç±» - æ”¹è¿›ç‰ˆæœ¬ï¼Œæ›´å‡†ç¡®åœ°åŒ¹é…å·¥ä½œ\n  const generateDynamicCategories = jobs => {\n    console.log('ç”ŸæˆåŠ¨æ€åˆ†ç±»ï¼Œå·¥ä½œæ•°é‡:', jobs.length);\n\n    // å®šä¹‰æ›´ç²¾ç¡®çš„åˆ†ç±»è§„åˆ™å’Œå…³é”®è¯\n    const categoryRules = {\n      'ux-designer': {\n        label: 'UX Designer',\n        primaryKeywords: ['ux designer', 'user experience designer', 'ux/ui designer', 'ui/ux designer'],\n        secondaryKeywords: ['ux', 'user experience', 'interaction design', 'usability', 'user research'],\n        excludeKeywords: ['ux writer', 'ux content'],\n        count: 0,\n        jobs: []\n      },\n      'ui-designer': {\n        label: 'UI Designer',\n        primaryKeywords: ['ui designer', 'user interface designer', 'interface designer'],\n        secondaryKeywords: ['ui', 'user interface', 'visual design', 'interface design'],\n        excludeKeywords: ['ui developer', 'ui engineer'],\n        count: 0,\n        jobs: []\n      },\n      'product-designer': {\n        label: 'Product Designer',\n        primaryKeywords: ['product designer', 'digital product designer'],\n        secondaryKeywords: ['product design', 'design lead', 'senior designer'],\n        excludeKeywords: ['product manager', 'product owner'],\n        count: 0,\n        jobs: []\n      },\n      'frontend-developer': {\n        label: 'Frontend Developer',\n        primaryKeywords: ['frontend developer', 'front-end developer', 'front end developer', 'react developer', 'vue developer', 'angular developer'],\n        secondaryKeywords: ['frontend', 'front-end', 'javascript', 'react', 'vue', 'angular', 'html', 'css'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'backend-developer': {\n        label: 'Backend Developer',\n        primaryKeywords: ['backend developer', 'back-end developer', 'server developer', 'api developer'],\n        secondaryKeywords: ['backend', 'back-end', 'server', 'api', 'node.js', 'python', 'java', 'php', 'ruby'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'fullstack-developer': {\n        label: 'Full Stack Developer',\n        primaryKeywords: ['full stack developer', 'fullstack developer', 'full-stack developer'],\n        secondaryKeywords: ['full stack', 'fullstack', 'full-stack'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'data-scientist': {\n        label: 'Data Scientist',\n        primaryKeywords: ['data scientist', 'machine learning engineer', 'ai engineer'],\n        secondaryKeywords: ['data science', 'machine learning', 'artificial intelligence', 'analytics', 'big data'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'devops-engineer': {\n        label: 'DevOps Engineer',\n        primaryKeywords: ['devops engineer', 'site reliability engineer', 'sre', 'cloud engineer'],\n        secondaryKeywords: ['devops', 'infrastructure', 'cloud', 'aws', 'azure', 'kubernetes', 'docker'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'mobile-developer': {\n        label: 'Mobile Developer',\n        primaryKeywords: ['mobile developer', 'ios developer', 'android developer', 'react native developer'],\n        secondaryKeywords: ['mobile', 'ios', 'android', 'react native', 'flutter', 'swift', 'kotlin'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'graphic-designer': {\n        label: 'Graphic Designer',\n        primaryKeywords: ['graphic designer', 'visual designer', 'brand designer'],\n        secondaryKeywords: ['graphic design', 'visual design', 'brand design', 'creative design'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'marketing-specialist': {\n        label: 'Marketing Specialist',\n        primaryKeywords: ['marketing specialist', 'digital marketing', 'marketing manager', 'growth marketer'],\n        secondaryKeywords: ['marketing', 'content marketing', 'social media', 'seo', 'sem', 'growth'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      },\n      'project-manager': {\n        label: 'Project Manager',\n        primaryKeywords: ['project manager', 'program manager', 'scrum master', 'product manager'],\n        secondaryKeywords: ['project management', 'agile', 'scrum', 'product management'],\n        excludeKeywords: [],\n        count: 0,\n        jobs: []\n      }\n    };\n\n    // åˆ†æžæ¯ä¸ªå·¥ä½œï¼Œä½¿ç”¨æ›´æ™ºèƒ½çš„åŒ¹é…é€»è¾‘\n    jobs.forEach(job => {\n      const title = job.title.toLowerCase();\n      const description = job.description ? job.description.toLowerCase() : '';\n      const skills = job.skills ? job.skills.join(' ').toLowerCase() : '';\n\n      // ä¸ºæ¯ä¸ªåˆ†ç±»è®¡ç®—åŒ¹é…åˆ†æ•°\n      Object.entries(categoryRules).forEach(([categoryId, categoryInfo]) => {\n        let matchScore = 0;\n\n        // æ£€æŸ¥ä¸»è¦å…³é”®è¯ï¼ˆé«˜æƒé‡ï¼‰\n        const primaryMatch = categoryInfo.primaryKeywords.some(keyword => title.includes(keyword) || description.includes(keyword));\n        if (primaryMatch) matchScore += 10;\n\n        // æ£€æŸ¥æ¬¡è¦å…³é”®è¯ï¼ˆä½Žæƒé‡ï¼‰\n        const secondaryMatches = categoryInfo.secondaryKeywords.filter(keyword => title.includes(keyword) || description.includes(keyword) || skills.includes(keyword)).length;\n        matchScore += secondaryMatches * 2;\n\n        // æ£€æŸ¥æŽ’é™¤å…³é”®è¯ï¼ˆè´Ÿæƒé‡ï¼‰\n        const excludeMatch = categoryInfo.excludeKeywords.some(keyword => title.includes(keyword) || description.includes(keyword));\n        if (excludeMatch) matchScore -= 5;\n\n        // å¦‚æžœåŒ¹é…åˆ†æ•°è¶³å¤Ÿé«˜ï¼Œåˆ™å½’ç±»åˆ°æ­¤åˆ†ç±»\n        if (matchScore >= 5) {\n          categoryInfo.count++;\n          categoryInfo.jobs.push(job);\n        }\n      });\n    });\n\n    // åªè¿”å›žæœ‰å·¥ä½œçš„åˆ†ç±»ï¼Œå¹¶æŒ‰æ•°é‡æŽ’åº\n    const validCategories = Object.entries(categoryRules).filter(([_, categoryInfo]) => categoryInfo.count > 0).sort(([, a], [, b]) => b.count - a.count).slice(0, 8) // æœ€å¤šæ˜¾ç¤º8ä¸ªåˆ†ç±»\n    .map(([categoryId, categoryInfo]) => ({\n      id: categoryId,\n      label: `${categoryInfo.label} (${categoryInfo.count})`,\n      count: categoryInfo.count\n    }));\n    console.log('ç”Ÿæˆçš„åŠ¨æ€åˆ†ç±»:', validCategories);\n\n    // è¾“å‡ºè¯¦ç»†çš„åˆ†ç±»ä¿¡æ¯ç”¨äºŽè°ƒè¯•\n    validCategories.forEach(category => {\n      const categoryRule = categoryRules[category.id];\n      console.log(`${category.label}:`, categoryRule.jobs.slice(0, 3).map(job => job.title));\n    });\n    return validCategories;\n  };\n\n  // è¿‡æ»¤å‡½æ•°ï¼šä¿ç•™æ‰€æœ‰å·¥ä½œï¼Œä¸å†é™åˆ¶ä¸ºè®¾è®¡å·¥ä½œ\n  const filterJobs = jobs => {\n    console.log('å¤„ç†å·¥ä½œæ•°æ®ï¼Œæ€»æ•°:', jobs.length);\n    return jobs; // è¿”å›žæ‰€æœ‰å·¥ä½œ\n  };\n\n  // å®žæ—¶æ•°æ®æ›´æ–°ç›‘å¬å™¨\n  useEffect(() => {\n    console.log('ðŸš€ åˆå§‹åŒ–å®žæ—¶å·¥ä½œæ•°æ®æœåŠ¡');\n\n    // å¯åŠ¨å®žæ—¶æ•°æ®æœåŠ¡\n    realTimeJobService.startRealTimeUpdates();\n\n    // æ·»åŠ æ•°æ®æ›´æ–°ç›‘å¬å™¨\n    const unsubscribe = realTimeJobService.addUpdateListener(data => {\n      console.log('ðŸ“¡ æ”¶åˆ°å®žæ—¶æ•°æ®æ›´æ–°:', data);\n\n      // æ›´æ–°å·¥ä½œæ•°æ®\n      setJobs(data.jobs);\n      setDataSources(data.sources);\n      setLastUpdate(data.lastUpdate);\n      setRealTimeStats(data.stats);\n\n      // ç”ŸæˆåŠ¨æ€åˆ†ç±»\n      const categories = generateDynamicCategories(data.jobs);\n      setDynamicCategories(categories);\n\n      // é‡æ–°åº”ç”¨å½“å‰çš„æœç´¢å’Œç­›é€‰\n      applyFiltersToJobs(activeFilters, data.jobs, searchTerm);\n    });\n\n    // èŽ·å–åˆå§‹æ•°æ®\n    const initializeData = async () => {\n      setLoading(true);\n      setLoadingCountdown(0);\n      let countdownInterval = null;\n      let isCompleted = false;\n      try {\n        const currentData = realTimeJobService.getCurrentJobs();\n        if (currentData.jobs.length > 0) {\n          console.log('âœ… ä½¿ç”¨çŽ°æœ‰æ•°æ®:', currentData.jobs.length, 'ä¸ªå·¥ä½œ');\n          setJobs(currentData.jobs);\n          setDataSources(currentData.sources);\n          setLastUpdate(currentData.lastUpdate);\n          setRealTimeStats(currentData.stats);\n          const categories = generateDynamicCategories(currentData.jobs);\n          setDynamicCategories(categories);\n          applyFiltersToJobs(activeFilters, currentData.jobs, searchTerm);\n          isCompleted = true;\n        } else {\n          console.log('ðŸ”„ è§¦å‘é¦–æ¬¡æ•°æ®æ›´æ–°');\n\n          // å¯åŠ¨APIè°ƒç”¨\n          const updatePromise = realTimeJobService.forceUpdate();\n\n          // å»¶è¿Ÿå¯åŠ¨å€’è®¡æ—¶ï¼Œç»™å¿«é€Ÿå“åº”ç•™å‡ºæ—¶é—´\n          setTimeout(() => {\n            if (!isCompleted) {\n              let countdown = 3;\n              setLoadingCountdown(countdown);\n              countdownInterval = setInterval(() => {\n                if (!isCompleted) {\n                  countdown--;\n                  if (countdown > 0) {\n                    setLoadingCountdown(countdown);\n                  } else {\n                    setLoadingCountdown(0);\n                  }\n                } else {\n                  clearInterval(countdownInterval);\n                }\n              }, 1000);\n            }\n          }, 500);\n          await updatePromise;\n          isCompleted = true;\n        }\n      } catch (error) {\n        console.error('âŒ åˆå§‹åŒ–æ•°æ®å¤±è´¥:', error);\n        isCompleted = true;\n\n        // ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ä½œä¸ºå¤‡ç”¨\n        const filteredMockJobs = filterJobs(mockJobs);\n        setJobs(filteredMockJobs);\n        setFilteredJobs(filteredMockJobs);\n        setDataSources(['Mock Data']);\n        const categories = generateDynamicCategories(filteredMockJobs);\n        setDynamicCategories(categories);\n      } finally {\n        isCompleted = true;\n        if (countdownInterval) {\n          clearInterval(countdownInterval);\n        }\n        setLoading(false);\n        setLoadingCountdown(0);\n      }\n    };\n    initializeData();\n\n    // æ¸…ç†å‡½æ•°\n    return () => {\n      console.log('ðŸ›‘ æ¸…ç†å®žæ—¶æ•°æ®æœåŠ¡');\n      unsubscribe();\n      realTimeJobService.stopRealTimeUpdates();\n    };\n  }, []); // åªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡\n\n  const handleSearch = term => {\n    // æ›´æ–°æœç´¢è¯çŠ¶æ€\n    if (term !== undefined && term !== null) {\n      setSearchTerm(term);\n    }\n\n    // è®¾ç½®æœç´¢çŠ¶æ€ä¸ºæ­£åœ¨æœç´¢\n    setSearching(true);\n\n    // ä½¿ç”¨setTimeoutæ¨¡æ‹Ÿæœç´¢å»¶è¿Ÿï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ\n    setTimeout(() => {\n      // é‡æ–°åº”ç”¨ç­›é€‰å™¨ï¼ŒåŒ…æ‹¬æ–°çš„æœç´¢è¯\n      applyFiltersToJobs(activeFilters);\n      setSearching(false);\n    }, 300); // 300msçš„å»¶è¿Ÿï¼Œæä¾›æ›´æµç•…çš„æœç´¢ä½“éªŒ\n  };\n  const handleFilter = filterIds => {\n    console.log('ç­›é€‰å™¨æ›´æ–°:', filterIds);\n\n    // æ›´æ–°æ´»åŠ¨ç­›é€‰å™¨çŠ¶æ€\n    setActiveFilters(filterIds);\n\n    // ç«‹å³åº”ç”¨ç­›é€‰åˆ°å½“å‰å·²åŠ è½½çš„å·¥ä½œ\n    applyFiltersToJobs(filterIds);\n  };\n\n  // æ‰‹åŠ¨åˆ·æ–°æ•°æ®\n  const handleRefresh = async () => {\n    if (isRefreshing) return;\n    console.log('ðŸ”„ æ‰‹åŠ¨åˆ·æ–°å·¥ä½œæ•°æ®');\n    setIsRefreshing(true);\n    setLoadingCountdown(0); // é‡ç½®å€’è®¡æ—¶\n\n    let countdownInterval = null;\n    let isCompleted = false;\n    try {\n      // å¯åŠ¨APIè°ƒç”¨\n      const refreshPromise = realTimeJobService.forceUpdate();\n\n      // å¯åŠ¨å€’è®¡æ—¶ï¼Œä½†åªåœ¨APIè¿˜æ²¡å®Œæˆæ—¶æ˜¾ç¤º\n      setTimeout(() => {\n        if (!isCompleted) {\n          let countdown = 2; // ä»Ž2ç§’å¼€å§‹å€’è®¡æ—¶\n          setLoadingCountdown(countdown);\n          countdownInterval = setInterval(() => {\n            if (!isCompleted) {\n              countdown--;\n              if (countdown > 0) {\n                setLoadingCountdown(countdown);\n              } else {\n                setLoadingCountdown(0); // å€’è®¡æ—¶ç»“æŸï¼Œæ˜¾ç¤º0æˆ–\"å³å°†å®Œæˆ\"\n              }\n            } else {\n              clearInterval(countdownInterval);\n            }\n          }, 1000);\n        }\n      }, 500); // å»¶è¿Ÿ500mså¼€å§‹å€’è®¡æ—¶ï¼Œç»™å¿«é€Ÿå“åº”ç•™å‡ºæ—¶é—´\n\n      const result = await refreshPromise;\n      isCompleted = true;\n      if (result.success) {\n        console.log('âœ… æ‰‹åŠ¨åˆ·æ–°æˆåŠŸ');\n      } else {\n        console.error('âŒ æ‰‹åŠ¨åˆ·æ–°å¤±è´¥:', result.error);\n      }\n    } catch (error) {\n      console.error('âŒ æ‰‹åŠ¨åˆ·æ–°å¼‚å¸¸:', error);\n      isCompleted = true;\n    } finally {\n      isCompleted = true;\n      if (countdownInterval) {\n        clearInterval(countdownInterval);\n      }\n      setIsRefreshing(false);\n      setLoadingCountdown(0);\n    }\n  };\n\n  // æ ¼å¼åŒ–æœ€åŽæ›´æ–°æ—¶é—´\n  const formatLastUpdate = date => {\n    if (!date) return 'æœªçŸ¥';\n    const now = new Date();\n    const diff = now - new Date(date);\n    const minutes = Math.floor(diff / (1000 * 60));\n    if (minutes < 1) return 'åˆšåˆš';\n    if (minutes < 60) return `${minutes}åˆ†é’Ÿå‰`;\n    const hours = Math.floor(minutes / 60);\n    if (hours < 24) return `${hours}å°æ—¶å‰`;\n    const days = Math.floor(hours / 24);\n    return `${days}å¤©å‰`;\n  };\n\n  // ç»Ÿä¸€çš„å·¥ä½œåˆ†ç±»åŒ¹é…å‡½æ•° - ä¸ŽgenerateDynamicCategoriesä½¿ç”¨ç›¸åŒçš„é€»è¾‘\n  const getJobCategoryMatch = (job, categoryId) => {\n    const title = job.title.toLowerCase();\n    const description = job.description ? job.description.toLowerCase() : '';\n    const skills = job.skills ? job.skills.join(' ').toLowerCase() : '';\n\n    // ä½¿ç”¨ä¸ŽgenerateDynamicCategoriesç›¸åŒçš„åˆ†ç±»è§„åˆ™\n    const categoryRules = {\n      'ux-designer': {\n        primaryKeywords: ['ux designer', 'user experience designer', 'ux/ui designer', 'ui/ux designer'],\n        secondaryKeywords: ['ux', 'user experience', 'interaction design', 'usability', 'user research'],\n        excludeKeywords: ['ux writer', 'ux content']\n      },\n      'ui-designer': {\n        primaryKeywords: ['ui designer', 'user interface designer', 'interface designer'],\n        secondaryKeywords: ['ui', 'user interface', 'visual design', 'interface design'],\n        excludeKeywords: ['ui developer', 'ui engineer']\n      },\n      'product-designer': {\n        primaryKeywords: ['product designer', 'digital product designer'],\n        secondaryKeywords: ['product design', 'design lead', 'senior designer'],\n        excludeKeywords: ['product manager', 'product owner']\n      },\n      'frontend-developer': {\n        primaryKeywords: ['frontend developer', 'front-end developer', 'front end developer', 'react developer', 'vue developer', 'angular developer'],\n        secondaryKeywords: ['frontend', 'front-end', 'javascript', 'react', 'vue', 'angular', 'html', 'css'],\n        excludeKeywords: []\n      },\n      'backend-developer': {\n        primaryKeywords: ['backend developer', 'back-end developer', 'server developer', 'api developer'],\n        secondaryKeywords: ['backend', 'back-end', 'server', 'api', 'node.js', 'python', 'java', 'php', 'ruby'],\n        excludeKeywords: []\n      },\n      'fullstack-developer': {\n        primaryKeywords: ['full stack developer', 'fullstack developer', 'full-stack developer'],\n        secondaryKeywords: ['full stack', 'fullstack', 'full-stack'],\n        excludeKeywords: []\n      },\n      'data-scientist': {\n        primaryKeywords: ['data scientist', 'machine learning engineer', 'ai engineer'],\n        secondaryKeywords: ['data science', 'machine learning', 'artificial intelligence', 'analytics', 'big data'],\n        excludeKeywords: []\n      },\n      'devops-engineer': {\n        primaryKeywords: ['devops engineer', 'site reliability engineer', 'sre', 'cloud engineer'],\n        secondaryKeywords: ['devops', 'infrastructure', 'cloud', 'aws', 'azure', 'kubernetes', 'docker'],\n        excludeKeywords: []\n      },\n      'mobile-developer': {\n        primaryKeywords: ['mobile developer', 'ios developer', 'android developer', 'react native developer'],\n        secondaryKeywords: ['mobile', 'ios', 'android', 'react native', 'flutter', 'swift', 'kotlin'],\n        excludeKeywords: []\n      },\n      'graphic-designer': {\n        primaryKeywords: ['graphic designer', 'visual designer', 'brand designer'],\n        secondaryKeywords: ['graphic design', 'visual design', 'brand design', 'creative design'],\n        excludeKeywords: []\n      },\n      'marketing-specialist': {\n        primaryKeywords: ['marketing specialist', 'digital marketing', 'marketing manager', 'growth marketer'],\n        secondaryKeywords: ['marketing', 'content marketing', 'social media', 'seo', 'sem', 'growth'],\n        excludeKeywords: []\n      },\n      'project-manager': {\n        primaryKeywords: ['project manager', 'program manager', 'scrum master', 'product manager'],\n        secondaryKeywords: ['project management', 'agile', 'scrum', 'product management'],\n        excludeKeywords: []\n      }\n    };\n    const categoryInfo = categoryRules[categoryId];\n    if (!categoryInfo) return false;\n    let matchScore = 0;\n\n    // æ£€æŸ¥ä¸»è¦å…³é”®è¯ï¼ˆé«˜æƒé‡ï¼‰\n    const primaryMatch = categoryInfo.primaryKeywords.some(keyword => title.includes(keyword) || description.includes(keyword));\n    if (primaryMatch) matchScore += 10;\n\n    // æ£€æŸ¥æ¬¡è¦å…³é”®è¯ï¼ˆä½Žæƒé‡ï¼‰\n    const secondaryMatches = categoryInfo.secondaryKeywords.filter(keyword => title.includes(keyword) || description.includes(keyword) || skills.includes(keyword)).length;\n    matchScore += secondaryMatches * 2;\n\n    // æ£€æŸ¥æŽ’é™¤å…³é”®è¯ï¼ˆè´Ÿæƒé‡ï¼‰\n    const excludeMatch = categoryInfo.excludeKeywords.some(keyword => title.includes(keyword) || description.includes(keyword));\n    if (excludeMatch) matchScore -= 5;\n\n    // è¿”å›žæ˜¯å¦åŒ¹é…ï¼ˆä½¿ç”¨ä¸ŽgenerateDynamicCategoriesç›¸åŒçš„é˜ˆå€¼ï¼‰\n    return matchScore >= 5;\n  };\n\n  // å¢žå¼ºçš„æœç´¢ç›¸å…³æ€§è¯„åˆ†å‡½æ•°\n  const calculateSearchRelevance = (job, searchTerm) => {\n    if (!searchTerm) return 0;\n    const term = searchTerm.toLowerCase();\n    const title = job.title.toLowerCase();\n    const company = job.company.toLowerCase();\n    const location = job.location.toLowerCase();\n    const description = job.description ? job.description.toLowerCase() : '';\n    const skills = job.skills ? job.skills.join(' ').toLowerCase() : '';\n    let score = 0;\n\n    // æ ‡é¢˜åŒ¹é…ï¼ˆæœ€é«˜æƒé‡ï¼‰\n    if (title.includes(term)) {\n      if (title.startsWith(term)) score += 100; // æ ‡é¢˜å¼€å¤´åŒ¹é…\n      else if (title.split(' ').some(word => word.startsWith(term))) score += 80; // å•è¯å¼€å¤´åŒ¹é…\n      else score += 60; // æ ‡é¢˜åŒ…å«\n    }\n\n    // å…¬å¸åç§°åŒ¹é…ï¼ˆé«˜æƒé‡ï¼‰\n    if (company.includes(term)) {\n      if (company.startsWith(term)) score += 50;else score += 30;\n    }\n\n    // æŠ€èƒ½åŒ¹é…ï¼ˆä¸­ç­‰æƒé‡ï¼‰\n    if (skills.includes(term)) {\n      const skillWords = skills.split(' ');\n      if (skillWords.some(skill => skill === term)) score += 40; // ç²¾ç¡®æŠ€èƒ½åŒ¹é…\n      else score += 20; // æŠ€èƒ½åŒ…å«\n    }\n\n    // æè¿°åŒ¹é…ï¼ˆè¾ƒä½Žæƒé‡ï¼‰\n    if (description.includes(term)) {\n      const termCount = (description.match(new RegExp(term, 'g')) || []).length;\n      score += Math.min(termCount * 5, 25); // æœ€å¤š25åˆ†ï¼Œé¿å…æè¿°è¿‡åº¦å½±å“\n    }\n\n    // ä½ç½®åŒ¹é…ï¼ˆè¾ƒä½Žæƒé‡ï¼‰\n    if (location.includes(term)) {\n      score += 15;\n    }\n\n    // å¤šè¯æœç´¢çš„é¢å¤–è¯„åˆ†\n    const searchWords = term.split(' ').filter(word => word.length > 2);\n    if (searchWords.length > 1) {\n      const matchedWords = searchWords.filter(word => title.includes(word) || company.includes(word) || skills.includes(word));\n      score += matchedWords.length * 10; // æ¯ä¸ªåŒ¹é…çš„è¯é¢å¤–10åˆ†\n    }\n    return score;\n  };\n\n  // åº”ç”¨ç­›é€‰å™¨åˆ°å·¥ä½œåˆ—è¡¨ - ä½¿ç”¨ç»Ÿä¸€çš„åŒ¹é…é€»è¾‘å’Œç›¸å…³æ€§æŽ’åº\n  const applyFiltersToJobs = (filterIds, jobsData = jobs, searchTermData = searchTerm) => {\n    let results = [...jobsData];\n\n    // é¦–å…ˆæŒ‰æœç´¢è¯è¿‡æ»¤å¹¶è®¡ç®—ç›¸å…³æ€§\n    if (searchTermData) {\n      results = results.map(job => ({\n        ...job,\n        relevanceScore: calculateSearchRelevance(job, searchTermData)\n      })).filter(job => job.relevanceScore > 0) // åªä¿ç•™æœ‰ç›¸å…³æ€§çš„å·¥ä½œ\n      .sort((a, b) => b.relevanceScore - a.relevanceScore); // æŒ‰ç›¸å…³æ€§æŽ’åº\n\n      console.log(`æœç´¢ \"${searchTermData}\" æ‰¾åˆ° ${results.length} ä¸ªç›¸å…³å·¥ä½œ`);\n      console.log('å‰5ä¸ªæœ€ç›¸å…³çš„å·¥ä½œ:', results.slice(0, 5).map(job => ({\n        title: job.title,\n        company: job.company,\n        score: job.relevanceScore\n      })));\n    }\n\n    // ç„¶åŽæŒ‰èŒä½ç±»åž‹ç­›é€‰ - ä½¿ç”¨ä¸Žåˆ†ç±»ç”Ÿæˆç›¸åŒçš„æ™ºèƒ½åŒ¹é…é€»è¾‘\n    if (filterIds && filterIds.length > 0) {\n      results = results.filter(job => {\n        // æ£€æŸ¥å·¥ä½œæ˜¯å¦åŒ¹é…ä»»ä¸€æ¿€æ´»çš„ç­›é€‰å™¨\n        return filterIds.some(filterId => getJobCategoryMatch(job, filterId));\n      });\n    }\n    console.log(`ç­›é€‰ç»“æžœ: ${results.length} ä¸ªå·¥ä½œ (åŽŸå§‹: ${jobs.length}, ç­›é€‰å™¨: ${filterIds})`);\n\n    // è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œæ˜¾ç¤ºæ¯ä¸ªç­›é€‰å™¨åŒ¹é…åˆ°çš„å·¥ä½œ\n    if (filterIds && filterIds.length > 0) {\n      filterIds.forEach(filterId => {\n        const matchedJobs = results.filter(job => getJobCategoryMatch(job, filterId));\n        console.log(`ç­›é€‰å™¨ ${filterId} åŒ¹é…åˆ° ${matchedJobs.length} ä¸ªå·¥ä½œ:`, matchedJobs.slice(0, 3).map(job => job.title));\n      });\n    }\n    setFilteredJobs(results);\n  };\n\n  // å¤„ç†å·¥ä½œå¡ç‰‡ç‚¹å‡»\n  const handleJobSelect = job => {\n    setSelectedJob(job);\n    setIsDrawerOpen(true);\n  };\n\n  // å¤„ç†å…³é—­æŠ½å±‰\n  const handleCloseDrawer = () => {\n    setIsDrawerOpen(false);\n  };\n\n  // å¤„ç†ç”³è¯·å·¥ä½œ\n  const handleApplyJob = jobId => {\n    console.log(`Applying for job: ${jobId}`);\n\n    // ç›´æŽ¥ä½¿ç”¨selectedJobï¼Œè€Œä¸æ˜¯ä»Žjobsæ•°ç»„ä¸­æŸ¥æ‰¾\n    const job = selectedJob;\n    if (!job) {\n      console.error('No selected job found');\n      alert('æ— æ³•æ‰¾åˆ°é€‰ä¸­çš„å·¥ä½œ');\n      return;\n    }\n\n    // è¯¦ç»†è®°å½•å·¥ä½œå¯¹è±¡ï¼Œå¸®åŠ©è°ƒè¯•\n    console.log('Selected job details:', {\n      id: job.id,\n      title: job.title,\n      company: job.company,\n      source: job.source,\n      sourceUrl: job.sourceUrl,\n      sourceId: job.sourceId\n    });\n\n    // åˆ›å»ºä¸€ä¸ªéšè—çš„aæ ‡ç­¾æ¥æ‰“å¼€é“¾æŽ¥ï¼Œè¿™æ ·å¯ä»¥é¿å…å¼¹å‡ºçª—å£è¢«é˜»æ­¢\n    const openLink = url => {\n      console.log(`Attempting to open URL: ${url}`);\n\n      // åˆ›å»ºä¸€ä¸ªéšè—çš„aæ ‡ç­¾\n      const link = document.createElement('a');\n      link.href = url;\n      link.target = '_blank';\n      link.rel = 'noopener noreferrer';\n\n      // æ·»åŠ åˆ°æ–‡æ¡£ä¸­å¹¶è§¦å‘ç‚¹å‡»\n      document.body.appendChild(link);\n      link.click();\n\n      // æ¸…ç†\n      setTimeout(() => {\n        document.body.removeChild(link);\n      }, 100);\n    };\n    let finalUrl = '';\n    if (job.sourceUrl) {\n      // å¦‚æžœæœ‰æºURLï¼Œä½¿ç”¨å®ƒ\n      console.log(`Using source URL: ${job.sourceUrl}`);\n      finalUrl = job.sourceUrl;\n    } else if (job.source) {\n      // å¦‚æžœæ²¡æœ‰æºURLä½†æœ‰æ¥æºä¿¡æ¯ï¼Œå°è¯•æž„å»ºURL\n      switch (job.source) {\n        case 'LinkedIn':\n          finalUrl = `https://www.linkedin.com/jobs/view/${job.sourceId || job.id}`;\n          break;\n        case 'WeWorkRemotely':\n          // å°è¯•ä½¿ç”¨æ›´å¯èƒ½æ­£ç¡®çš„WeWorkRemotely URLæ ¼å¼\n          if (job.company && job.title) {\n            // å°†å…¬å¸åå’ŒèŒä½åè½¬æ¢ä¸ºURLå‹å¥½çš„æ ¼å¼\n            const companySlug = job.company.toLowerCase().replace(/[^a-z0-9]+/g, '-');\n            const titleSlug = job.title.toLowerCase().replace(/[^a-z0-9]+/g, '-');\n            finalUrl = `https://weworkremotely.com/remote-jobs/${companySlug}-${titleSlug}`;\n          } else {\n            finalUrl = `https://weworkremotely.com/remote-jobs/${job.sourceId || job.id}`;\n          }\n          break;\n        case 'RemoteOK':\n          finalUrl = `https://remoteok.io/l/${job.sourceId || job.id}`;\n          break;\n        default:\n          // å¦‚æžœæ— æ³•ç¡®å®šæ¥æºï¼Œå°è¯•ä½¿ç”¨é€šç”¨æœç´¢\n          finalUrl = `https://www.google.com/search?q=${encodeURIComponent(`${job.title} ${job.company} job`)}`;\n      }\n      console.log(`Constructed URL: ${finalUrl}`);\n    } else {\n      // å¦‚æžœæ²¡æœ‰ä»»ä½•é“¾æŽ¥ä¿¡æ¯ï¼Œæ˜¾ç¤ºæç¤ºå¹¶ä½¿ç”¨Googleæœç´¢\n      console.error('No source URL or source information found for job:', job);\n      finalUrl = `https://www.google.com/search?q=${encodeURIComponent(`${job.title} ${job.company} job`)}`;\n      alert('æ— æ³•æ‰¾åˆ°ç²¾ç¡®çš„å·¥ä½œé“¾æŽ¥ï¼Œå°†ä½¿ç”¨Googleæœç´¢');\n    }\n\n    // å°è¯•æ‰“å¼€é“¾æŽ¥\n    if (finalUrl) {\n      openLink(finalUrl);\n    } else {\n      alert('æ— æ³•ç”Ÿæˆæœ‰æ•ˆçš„å·¥ä½œé“¾æŽ¥');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `job-feed ${isDrawerOpen ? 'drawer-open' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onSearch: term => handleSearch(term),\n      onFilter: handleFilter,\n      dynamicCategories: dynamicCategories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"job-list-container\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: loadingCountdown > 0 ? `æ­£åœ¨åŠ è½½å·¥ä½œæ•°æ®ï¼Œé¢„è®¡è¿˜éœ€ ${loadingCountdown} ç§’...` : 'Loading jobs...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 769,\n        columnNumber: 11\n      }, this) : searching ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searching-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Searching...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: filteredJobs.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"results-header\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"results-main-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"results-count\",\n                children: [\"\\u627E\\u5230 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"count-highlight\",\n                  children: filteredJobs.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 790,\n                  columnNumber: 26\n                }, this), \" \\u4E2A\\u5DE5\\u4F5C\\u673A\\u4F1A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"last-update-inline\",\n                children: isRefreshing && loadingCountdown > 0 ? `æ­£åœ¨åŠ è½½ä¸­ï¼Œé¢„è®¡è¿˜éœ€ ${loadingCountdown} ç§’` : `æœ€åŽæ›´æ–°: ${formatLastUpdate(lastUpdate)}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 21\n              }, this), realTimeStats && realTimeStats.newJobs > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"new-jobs-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"number-highlight\",\n                  children: realTimeStats.newJobs\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 25\n                }, this), \" \\u4E2A\\u65B0\\u5DE5\\u4F5C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 23\n              }, this), realTimeStats && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total-updates-inline\",\n                children: [\"\\u5DF2\\u66F4\\u65B0 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"number-highlight\",\n                  children: realTimeStats.successfulUpdates\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 29\n                }, this), \" \\u6B21\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"data-sources-inline\",\n                children: [\"\\u6570\\u636E\\u6765\\u6E90: \", dataSources.join(', ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `refresh-btn-inline ${isRefreshing ? 'refreshing' : ''}`,\n                onClick: handleRefresh,\n                disabled: isRefreshing,\n                title: \"\\u5237\\u65B0\\u5DE5\\u4F5C\\u6570\\u636E\",\n                children: \"\\u21BB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"job-list\",\n            children: [filteredJobs.map((job, index) => {\n              if (filteredJobs.length === index + 1) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: lastJobElementRef,\n                  children: /*#__PURE__*/_jsxDEV(JobCard, {\n                    job: job,\n                    onSelect: () => handleJobSelect(job)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 27\n                  }, this)\n                }, job.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 825,\n                  columnNumber: 25\n                }, this);\n              } else {\n                return /*#__PURE__*/_jsxDEV(JobCard, {\n                  job: job,\n                  onSelect: () => handleJobSelect(job)\n                }, job.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 834,\n                  columnNumber: 25\n                }, this);\n              }\n            }), loadingMore && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-more\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-spinner small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u52A0\\u8F7D\\u66F4\\u591A\\u5DE5\\u4F5C...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 845,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-jobs-found\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No jobs found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Try adjusting your search filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(JobDetailsDrawer, {\n      job: selectedJob,\n      isOpen: isDrawerOpen,\n      onClose: handleCloseDrawer,\n      onApply: handleApplyJob\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 860,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 760,\n    columnNumber: 5\n  }, this);\n};\n_s(JobFeed, \"CCUSA/svG3knREbss2QWqdAsMIk=\");\n_c = JobFeed;\nexport default JobFeed;\nvar _c;\n$RefreshReg$(_c, \"JobFeed\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Header","JobCard","JobDetailsDrawer","mockJobs","jobService","fallbackJobService","realTimeJobService","jsxDEV","_jsxDEV","Fragment","_Fragment","JobFeed","_s","jobs","setJobs","filteredJobs","setFilteredJobs","loading","setLoading","searchTerm","setSearchTerm","searching","setSearching","selectedJob","setSelectedJob","isDrawerOpen","setIsDrawerOpen","page","setPage","hasMore","setHasMore","loadingMore","setLoadingMore","activeFilters","setActiveFilters","dataSources","setDataSources","dynamicCategories","setDynamicCategories","lastUpdate","setLastUpdate","isRefreshing","setIsRefreshing","realTimeStats","setRealTimeStats","observer","lastJobElementRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","loadMoreJobs","observe","nextPage","designSearchTerms","result","searchRemoteJobs","category","length","newJobs","filterJobs","prevJobs","prevFiltered","allLoadedJobs","categories","generateDynamicCategories","error","console","log","categoryRules","label","primaryKeywords","secondaryKeywords","excludeKeywords","count","forEach","job","title","toLowerCase","description","skills","join","Object","categoryId","categoryInfo","matchScore","primaryMatch","some","keyword","includes","secondaryMatches","filter","excludeMatch","push","validCategories","_","sort","a","b","slice","map","id","categoryRule","startRealTimeUpdates","unsubscribe","addUpdateListener","data","sources","stats","applyFiltersToJobs","initializeData","setLoadingCountdown","countdownInterval","isCompleted","currentData","getCurrentJobs","updatePromise","forceUpdate","setTimeout","countdown","setInterval","clearInterval","filteredMockJobs","stopRealTimeUpdates","handleSearch","term","undefined","handleFilter","filterIds","handleRefresh","refreshPromise","success","formatLastUpdate","date","now","Date","diff","minutes","Math","floor","hours","days","getJobCategoryMatch","calculateSearchRelevance","company","location","score","startsWith","split","word","skillWords","skill","termCount","match","RegExp","min","searchWords","matchedWords","jobsData","searchTermData","results","relevanceScore","filterId","matchedJobs","handleJobSelect","handleCloseDrawer","handleApplyJob","jobId","alert","source","sourceUrl","sourceId","openLink","url","link","document","createElement","href","target","rel","body","appendChild","click","removeChild","finalUrl","companySlug","replace","titleSlug","encodeURIComponent","className","children","onSearch","onFilter","fileName","_jsxFileName","lineNumber","columnNumber","loadingCountdown","successfulUpdates","onClick","disabled","index","ref","onSelect","isOpen","onClose","onApply","_c","$RefreshReg$"],"sources":["D:/Kiro/remote-job-website/src/pages/JobFeed.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport Header from '../components/Header';\r\nimport JobCard from '../components/JobCard';\r\nimport JobDetailsDrawer from '../components/JobDetailsDrawer';\r\nimport { mockJobs } from '../services/mockData';\r\nimport jobService from '../services/jobService';\r\nimport fallbackJobService from '../services/fallbackJobService';\r\nimport realTimeJobService from '../services/RealTimeJobService';\r\nimport './JobFeed.css';\r\n\r\nconst JobFeed = () => {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [filteredJobs, setFilteredJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searching, setSearching] = useState(false);\r\n  const [selectedJob, setSelectedJob] = useState(null);\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n  const [page, setPage] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [activeFilters, setActiveFilters] = useState([]);\r\n  const [dataSources, setDataSources] = useState([]);\r\n  const [dynamicCategories, setDynamicCategories] = useState([]);\r\n  const [lastUpdate, setLastUpdate] = useState(null);\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const [realTimeStats, setRealTimeStats] = useState(null);\r\n  const observer = useRef();\r\n  const lastJobElementRef = useCallback(node => {\r\n    if (loading || loadingMore) return;\r\n    if (observer.current) observer.current.disconnect();\r\n    observer.current = new IntersectionObserver(entries => {\r\n      if (entries[0].isIntersecting && hasMore) {\r\n        loadMoreJobs();\r\n      }\r\n    });\r\n    if (node) observer.current.observe(node);\r\n  }, [loading, loadingMore, hasMore]);\r\n\r\n  // åŠ è½½æ›´å¤šå·¥ä½œ\r\n  const loadMoreJobs = async () => {\r\n    if (loadingMore || !hasMore) return;\r\n    \r\n    setLoadingMore(true);\r\n    try {\r\n      const nextPage = page + 1;\r\n      const designSearchTerms = searchTerm || '';\r\n      \r\n      const result = await jobService.searchRemoteJobs(designSearchTerms, {\r\n        ...activeFilters,\r\n        category: 'design',\r\n        page: nextPage\r\n      });\r\n      \r\n      if (result.jobs.length === 0) {\r\n        setHasMore(false);\r\n      } else {\r\n        // å¤„ç†æ–°åŠ è½½çš„å·¥ä½œæ•°æ®\r\n        const newJobs = filterJobs(result.jobs);\r\n        \r\n        if (newJobs.length === 0) {\r\n          setHasMore(false);\r\n        } else {\r\n          setJobs(prevJobs => [...prevJobs, ...newJobs]);\r\n          setFilteredJobs(prevFiltered => [...prevFiltered, ...newJobs]);\r\n          setPage(nextPage);\r\n          \r\n          // æ›´æ–°åŠ¨æ€åˆ†ç±»ï¼ˆåŸºäºŽæ‰€æœ‰å·²åŠ è½½çš„å·¥ä½œï¼‰\r\n          const allLoadedJobs = [...jobs, ...newJobs];\r\n          const categories = generateDynamicCategories(allLoadedJobs);\r\n          setDynamicCategories(categories);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load more jobs:', error);\r\n    } finally {\r\n      setLoadingMore(false);\r\n    }\r\n  };\r\n\r\n  // æ ¹æ®å·¥ä½œæ•°æ®è‡ªåŠ¨ç”Ÿæˆåˆ†ç±» - æ”¹è¿›ç‰ˆæœ¬ï¼Œæ›´å‡†ç¡®åœ°åŒ¹é…å·¥ä½œ\r\n  const generateDynamicCategories = (jobs) => {\r\n    console.log('ç”ŸæˆåŠ¨æ€åˆ†ç±»ï¼Œå·¥ä½œæ•°é‡:', jobs.length);\r\n    \r\n    // å®šä¹‰æ›´ç²¾ç¡®çš„åˆ†ç±»è§„åˆ™å’Œå…³é”®è¯\r\n    const categoryRules = {\r\n      'ux-designer': {\r\n        label: 'UX Designer',\r\n        primaryKeywords: ['ux designer', 'user experience designer', 'ux/ui designer', 'ui/ux designer'],\r\n        secondaryKeywords: ['ux', 'user experience', 'interaction design', 'usability', 'user research'],\r\n        excludeKeywords: ['ux writer', 'ux content'],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'ui-designer': {\r\n        label: 'UI Designer',\r\n        primaryKeywords: ['ui designer', 'user interface designer', 'interface designer'],\r\n        secondaryKeywords: ['ui', 'user interface', 'visual design', 'interface design'],\r\n        excludeKeywords: ['ui developer', 'ui engineer'],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'product-designer': {\r\n        label: 'Product Designer',\r\n        primaryKeywords: ['product designer', 'digital product designer'],\r\n        secondaryKeywords: ['product design', 'design lead', 'senior designer'],\r\n        excludeKeywords: ['product manager', 'product owner'],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'frontend-developer': {\r\n        label: 'Frontend Developer',\r\n        primaryKeywords: ['frontend developer', 'front-end developer', 'front end developer', 'react developer', 'vue developer', 'angular developer'],\r\n        secondaryKeywords: ['frontend', 'front-end', 'javascript', 'react', 'vue', 'angular', 'html', 'css'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'backend-developer': {\r\n        label: 'Backend Developer',\r\n        primaryKeywords: ['backend developer', 'back-end developer', 'server developer', 'api developer'],\r\n        secondaryKeywords: ['backend', 'back-end', 'server', 'api', 'node.js', 'python', 'java', 'php', 'ruby'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'fullstack-developer': {\r\n        label: 'Full Stack Developer',\r\n        primaryKeywords: ['full stack developer', 'fullstack developer', 'full-stack developer'],\r\n        secondaryKeywords: ['full stack', 'fullstack', 'full-stack'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'data-scientist': {\r\n        label: 'Data Scientist',\r\n        primaryKeywords: ['data scientist', 'machine learning engineer', 'ai engineer'],\r\n        secondaryKeywords: ['data science', 'machine learning', 'artificial intelligence', 'analytics', 'big data'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'devops-engineer': {\r\n        label: 'DevOps Engineer',\r\n        primaryKeywords: ['devops engineer', 'site reliability engineer', 'sre', 'cloud engineer'],\r\n        secondaryKeywords: ['devops', 'infrastructure', 'cloud', 'aws', 'azure', 'kubernetes', 'docker'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'mobile-developer': {\r\n        label: 'Mobile Developer',\r\n        primaryKeywords: ['mobile developer', 'ios developer', 'android developer', 'react native developer'],\r\n        secondaryKeywords: ['mobile', 'ios', 'android', 'react native', 'flutter', 'swift', 'kotlin'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'graphic-designer': {\r\n        label: 'Graphic Designer',\r\n        primaryKeywords: ['graphic designer', 'visual designer', 'brand designer'],\r\n        secondaryKeywords: ['graphic design', 'visual design', 'brand design', 'creative design'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'marketing-specialist': {\r\n        label: 'Marketing Specialist',\r\n        primaryKeywords: ['marketing specialist', 'digital marketing', 'marketing manager', 'growth marketer'],\r\n        secondaryKeywords: ['marketing', 'content marketing', 'social media', 'seo', 'sem', 'growth'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      },\r\n      'project-manager': {\r\n        label: 'Project Manager',\r\n        primaryKeywords: ['project manager', 'program manager', 'scrum master', 'product manager'],\r\n        secondaryKeywords: ['project management', 'agile', 'scrum', 'product management'],\r\n        excludeKeywords: [],\r\n        count: 0,\r\n        jobs: []\r\n      }\r\n    };\r\n    \r\n    // åˆ†æžæ¯ä¸ªå·¥ä½œï¼Œä½¿ç”¨æ›´æ™ºèƒ½çš„åŒ¹é…é€»è¾‘\r\n    jobs.forEach(job => {\r\n      const title = job.title.toLowerCase();\r\n      const description = job.description ? job.description.toLowerCase() : '';\r\n      const skills = job.skills ? job.skills.join(' ').toLowerCase() : '';\r\n      \r\n      // ä¸ºæ¯ä¸ªåˆ†ç±»è®¡ç®—åŒ¹é…åˆ†æ•°\r\n      Object.entries(categoryRules).forEach(([categoryId, categoryInfo]) => {\r\n        let matchScore = 0;\r\n        \r\n        // æ£€æŸ¥ä¸»è¦å…³é”®è¯ï¼ˆé«˜æƒé‡ï¼‰\r\n        const primaryMatch = categoryInfo.primaryKeywords.some(keyword => \r\n          title.includes(keyword) || description.includes(keyword)\r\n        );\r\n        if (primaryMatch) matchScore += 10;\r\n        \r\n        // æ£€æŸ¥æ¬¡è¦å…³é”®è¯ï¼ˆä½Žæƒé‡ï¼‰\r\n        const secondaryMatches = categoryInfo.secondaryKeywords.filter(keyword => \r\n          title.includes(keyword) || description.includes(keyword) || skills.includes(keyword)\r\n        ).length;\r\n        matchScore += secondaryMatches * 2;\r\n        \r\n        // æ£€æŸ¥æŽ’é™¤å…³é”®è¯ï¼ˆè´Ÿæƒé‡ï¼‰\r\n        const excludeMatch = categoryInfo.excludeKeywords.some(keyword => \r\n          title.includes(keyword) || description.includes(keyword)\r\n        );\r\n        if (excludeMatch) matchScore -= 5;\r\n        \r\n        // å¦‚æžœåŒ¹é…åˆ†æ•°è¶³å¤Ÿé«˜ï¼Œåˆ™å½’ç±»åˆ°æ­¤åˆ†ç±»\r\n        if (matchScore >= 5) {\r\n          categoryInfo.count++;\r\n          categoryInfo.jobs.push(job);\r\n        }\r\n      });\r\n    });\r\n    \r\n    // åªè¿”å›žæœ‰å·¥ä½œçš„åˆ†ç±»ï¼Œå¹¶æŒ‰æ•°é‡æŽ’åº\r\n    const validCategories = Object.entries(categoryRules)\r\n      .filter(([_, categoryInfo]) => categoryInfo.count > 0)\r\n      .sort(([, a], [, b]) => b.count - a.count)\r\n      .slice(0, 8) // æœ€å¤šæ˜¾ç¤º8ä¸ªåˆ†ç±»\r\n      .map(([categoryId, categoryInfo]) => ({\r\n        id: categoryId,\r\n        label: `${categoryInfo.label} (${categoryInfo.count})`,\r\n        count: categoryInfo.count\r\n      }));\r\n    \r\n    console.log('ç”Ÿæˆçš„åŠ¨æ€åˆ†ç±»:', validCategories);\r\n    \r\n    // è¾“å‡ºè¯¦ç»†çš„åˆ†ç±»ä¿¡æ¯ç”¨äºŽè°ƒè¯•\r\n    validCategories.forEach(category => {\r\n      const categoryRule = categoryRules[category.id];\r\n      console.log(`${category.label}:`, categoryRule.jobs.slice(0, 3).map(job => job.title));\r\n    });\r\n    \r\n    return validCategories;\r\n  };\r\n\r\n  // è¿‡æ»¤å‡½æ•°ï¼šä¿ç•™æ‰€æœ‰å·¥ä½œï¼Œä¸å†é™åˆ¶ä¸ºè®¾è®¡å·¥ä½œ\r\n  const filterJobs = (jobs) => {\r\n    console.log('å¤„ç†å·¥ä½œæ•°æ®ï¼Œæ€»æ•°:', jobs.length);\r\n    return jobs; // è¿”å›žæ‰€æœ‰å·¥ä½œ\r\n  };\r\n\r\n  // å®žæ—¶æ•°æ®æ›´æ–°ç›‘å¬å™¨\r\n  useEffect(() => {\r\n    console.log('ðŸš€ åˆå§‹åŒ–å®žæ—¶å·¥ä½œæ•°æ®æœåŠ¡');\r\n    \r\n    // å¯åŠ¨å®žæ—¶æ•°æ®æœåŠ¡\r\n    realTimeJobService.startRealTimeUpdates();\r\n    \r\n    // æ·»åŠ æ•°æ®æ›´æ–°ç›‘å¬å™¨\r\n    const unsubscribe = realTimeJobService.addUpdateListener((data) => {\r\n      console.log('ðŸ“¡ æ”¶åˆ°å®žæ—¶æ•°æ®æ›´æ–°:', data);\r\n      \r\n      // æ›´æ–°å·¥ä½œæ•°æ®\r\n      setJobs(data.jobs);\r\n      setDataSources(data.sources);\r\n      setLastUpdate(data.lastUpdate);\r\n      setRealTimeStats(data.stats);\r\n      \r\n      // ç”ŸæˆåŠ¨æ€åˆ†ç±»\r\n      const categories = generateDynamicCategories(data.jobs);\r\n      setDynamicCategories(categories);\r\n      \r\n      // é‡æ–°åº”ç”¨å½“å‰çš„æœç´¢å’Œç­›é€‰\r\n      applyFiltersToJobs(activeFilters, data.jobs, searchTerm);\r\n    });\r\n    \r\n    // èŽ·å–åˆå§‹æ•°æ®\r\n    const initializeData = async () => {\r\n      setLoading(true);\r\n      setLoadingCountdown(0);\r\n      \r\n      let countdownInterval = null;\r\n      let isCompleted = false;\r\n      \r\n      try {\r\n        const currentData = realTimeJobService.getCurrentJobs();\r\n        if (currentData.jobs.length > 0) {\r\n          console.log('âœ… ä½¿ç”¨çŽ°æœ‰æ•°æ®:', currentData.jobs.length, 'ä¸ªå·¥ä½œ');\r\n          setJobs(currentData.jobs);\r\n          setDataSources(currentData.sources);\r\n          setLastUpdate(currentData.lastUpdate);\r\n          setRealTimeStats(currentData.stats);\r\n          \r\n          const categories = generateDynamicCategories(currentData.jobs);\r\n          setDynamicCategories(categories);\r\n          \r\n          applyFiltersToJobs(activeFilters, currentData.jobs, searchTerm);\r\n          isCompleted = true;\r\n        } else {\r\n          console.log('ðŸ”„ è§¦å‘é¦–æ¬¡æ•°æ®æ›´æ–°');\r\n          \r\n          // å¯åŠ¨APIè°ƒç”¨\r\n          const updatePromise = realTimeJobService.forceUpdate();\r\n          \r\n          // å»¶è¿Ÿå¯åŠ¨å€’è®¡æ—¶ï¼Œç»™å¿«é€Ÿå“åº”ç•™å‡ºæ—¶é—´\r\n          setTimeout(() => {\r\n            if (!isCompleted) {\r\n              let countdown = 3;\r\n              setLoadingCountdown(countdown);\r\n              \r\n              countdownInterval = setInterval(() => {\r\n                if (!isCompleted) {\r\n                  countdown--;\r\n                  if (countdown > 0) {\r\n                    setLoadingCountdown(countdown);\r\n                  } else {\r\n                    setLoadingCountdown(0);\r\n                  }\r\n                } else {\r\n                  clearInterval(countdownInterval);\r\n                }\r\n              }, 1000);\r\n            }\r\n          }, 500);\r\n          \r\n          await updatePromise;\r\n          isCompleted = true;\r\n        }\r\n      } catch (error) {\r\n        console.error('âŒ åˆå§‹åŒ–æ•°æ®å¤±è´¥:', error);\r\n        isCompleted = true;\r\n        \r\n        // ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ä½œä¸ºå¤‡ç”¨\r\n        const filteredMockJobs = filterJobs(mockJobs);\r\n        setJobs(filteredMockJobs);\r\n        setFilteredJobs(filteredMockJobs);\r\n        setDataSources(['Mock Data']);\r\n        \r\n        const categories = generateDynamicCategories(filteredMockJobs);\r\n        setDynamicCategories(categories);\r\n      } finally {\r\n        isCompleted = true;\r\n        if (countdownInterval) {\r\n          clearInterval(countdownInterval);\r\n        }\r\n        setLoading(false);\r\n        setLoadingCountdown(0);\r\n      }\r\n    };\r\n    \r\n    initializeData();\r\n    \r\n    // æ¸…ç†å‡½æ•°\r\n    return () => {\r\n      console.log('ðŸ›‘ æ¸…ç†å®žæ—¶æ•°æ®æœåŠ¡');\r\n      unsubscribe();\r\n      realTimeJobService.stopRealTimeUpdates();\r\n    };\r\n  }, []); // åªåœ¨ç»„ä»¶æŒ‚è½½æ—¶è¿è¡Œä¸€æ¬¡\r\n\r\n  const handleSearch = (term) => {\r\n    // æ›´æ–°æœç´¢è¯çŠ¶æ€\r\n    if (term !== undefined && term !== null) {\r\n      setSearchTerm(term);\r\n    }\r\n    \r\n    // è®¾ç½®æœç´¢çŠ¶æ€ä¸ºæ­£åœ¨æœç´¢\r\n    setSearching(true);\r\n    \r\n    // ä½¿ç”¨setTimeoutæ¨¡æ‹Ÿæœç´¢å»¶è¿Ÿï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ\r\n    setTimeout(() => {\r\n      // é‡æ–°åº”ç”¨ç­›é€‰å™¨ï¼ŒåŒ…æ‹¬æ–°çš„æœç´¢è¯\r\n      applyFiltersToJobs(activeFilters);\r\n      setSearching(false);\r\n    }, 300); // 300msçš„å»¶è¿Ÿï¼Œæä¾›æ›´æµç•…çš„æœç´¢ä½“éªŒ\r\n  };\r\n\r\n  const handleFilter = (filterIds) => {\r\n    console.log('ç­›é€‰å™¨æ›´æ–°:', filterIds);\r\n    \r\n    // æ›´æ–°æ´»åŠ¨ç­›é€‰å™¨çŠ¶æ€\r\n    setActiveFilters(filterIds);\r\n    \r\n    // ç«‹å³åº”ç”¨ç­›é€‰åˆ°å½“å‰å·²åŠ è½½çš„å·¥ä½œ\r\n    applyFiltersToJobs(filterIds);\r\n  };\r\n\r\n  // æ‰‹åŠ¨åˆ·æ–°æ•°æ®\r\n  const handleRefresh = async () => {\r\n    if (isRefreshing) return;\r\n    \r\n    console.log('ðŸ”„ æ‰‹åŠ¨åˆ·æ–°å·¥ä½œæ•°æ®');\r\n    setIsRefreshing(true);\r\n    setLoadingCountdown(0); // é‡ç½®å€’è®¡æ—¶\r\n    \r\n    let countdownInterval = null;\r\n    let isCompleted = false;\r\n    \r\n    try {\r\n      // å¯åŠ¨APIè°ƒç”¨\r\n      const refreshPromise = realTimeJobService.forceUpdate();\r\n      \r\n      // å¯åŠ¨å€’è®¡æ—¶ï¼Œä½†åªåœ¨APIè¿˜æ²¡å®Œæˆæ—¶æ˜¾ç¤º\r\n      setTimeout(() => {\r\n        if (!isCompleted) {\r\n          let countdown = 2; // ä»Ž2ç§’å¼€å§‹å€’è®¡æ—¶\r\n          setLoadingCountdown(countdown);\r\n          \r\n          countdownInterval = setInterval(() => {\r\n            if (!isCompleted) {\r\n              countdown--;\r\n              if (countdown > 0) {\r\n                setLoadingCountdown(countdown);\r\n              } else {\r\n                setLoadingCountdown(0); // å€’è®¡æ—¶ç»“æŸï¼Œæ˜¾ç¤º0æˆ–\"å³å°†å®Œæˆ\"\r\n              }\r\n            } else {\r\n              clearInterval(countdownInterval);\r\n            }\r\n          }, 1000);\r\n        }\r\n      }, 500); // å»¶è¿Ÿ500mså¼€å§‹å€’è®¡æ—¶ï¼Œç»™å¿«é€Ÿå“åº”ç•™å‡ºæ—¶é—´\r\n      \r\n      const result = await refreshPromise;\r\n      isCompleted = true;\r\n      \r\n      if (result.success) {\r\n        console.log('âœ… æ‰‹åŠ¨åˆ·æ–°æˆåŠŸ');\r\n      } else {\r\n        console.error('âŒ æ‰‹åŠ¨åˆ·æ–°å¤±è´¥:', result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ æ‰‹åŠ¨åˆ·æ–°å¼‚å¸¸:', error);\r\n      isCompleted = true;\r\n    } finally {\r\n      isCompleted = true;\r\n      if (countdownInterval) {\r\n        clearInterval(countdownInterval);\r\n      }\r\n      setIsRefreshing(false);\r\n      setLoadingCountdown(0);\r\n    }\r\n  };\r\n\r\n  // æ ¼å¼åŒ–æœ€åŽæ›´æ–°æ—¶é—´\r\n  const formatLastUpdate = (date) => {\r\n    if (!date) return 'æœªçŸ¥';\r\n    \r\n    const now = new Date();\r\n    const diff = now - new Date(date);\r\n    const minutes = Math.floor(diff / (1000 * 60));\r\n    \r\n    if (minutes < 1) return 'åˆšåˆš';\r\n    if (minutes < 60) return `${minutes}åˆ†é’Ÿå‰`;\r\n    \r\n    const hours = Math.floor(minutes / 60);\r\n    if (hours < 24) return `${hours}å°æ—¶å‰`;\r\n    \r\n    const days = Math.floor(hours / 24);\r\n    return `${days}å¤©å‰`;\r\n  };\r\n\r\n  // ç»Ÿä¸€çš„å·¥ä½œåˆ†ç±»åŒ¹é…å‡½æ•° - ä¸ŽgenerateDynamicCategoriesä½¿ç”¨ç›¸åŒçš„é€»è¾‘\r\n  const getJobCategoryMatch = (job, categoryId) => {\r\n    const title = job.title.toLowerCase();\r\n    const description = job.description ? job.description.toLowerCase() : '';\r\n    const skills = job.skills ? job.skills.join(' ').toLowerCase() : '';\r\n    \r\n    // ä½¿ç”¨ä¸ŽgenerateDynamicCategoriesç›¸åŒçš„åˆ†ç±»è§„åˆ™\r\n    const categoryRules = {\r\n      'ux-designer': {\r\n        primaryKeywords: ['ux designer', 'user experience designer', 'ux/ui designer', 'ui/ux designer'],\r\n        secondaryKeywords: ['ux', 'user experience', 'interaction design', 'usability', 'user research'],\r\n        excludeKeywords: ['ux writer', 'ux content']\r\n      },\r\n      'ui-designer': {\r\n        primaryKeywords: ['ui designer', 'user interface designer', 'interface designer'],\r\n        secondaryKeywords: ['ui', 'user interface', 'visual design', 'interface design'],\r\n        excludeKeywords: ['ui developer', 'ui engineer']\r\n      },\r\n      'product-designer': {\r\n        primaryKeywords: ['product designer', 'digital product designer'],\r\n        secondaryKeywords: ['product design', 'design lead', 'senior designer'],\r\n        excludeKeywords: ['product manager', 'product owner']\r\n      },\r\n      'frontend-developer': {\r\n        primaryKeywords: ['frontend developer', 'front-end developer', 'front end developer', 'react developer', 'vue developer', 'angular developer'],\r\n        secondaryKeywords: ['frontend', 'front-end', 'javascript', 'react', 'vue', 'angular', 'html', 'css'],\r\n        excludeKeywords: []\r\n      },\r\n      'backend-developer': {\r\n        primaryKeywords: ['backend developer', 'back-end developer', 'server developer', 'api developer'],\r\n        secondaryKeywords: ['backend', 'back-end', 'server', 'api', 'node.js', 'python', 'java', 'php', 'ruby'],\r\n        excludeKeywords: []\r\n      },\r\n      'fullstack-developer': {\r\n        primaryKeywords: ['full stack developer', 'fullstack developer', 'full-stack developer'],\r\n        secondaryKeywords: ['full stack', 'fullstack', 'full-stack'],\r\n        excludeKeywords: []\r\n      },\r\n      'data-scientist': {\r\n        primaryKeywords: ['data scientist', 'machine learning engineer', 'ai engineer'],\r\n        secondaryKeywords: ['data science', 'machine learning', 'artificial intelligence', 'analytics', 'big data'],\r\n        excludeKeywords: []\r\n      },\r\n      'devops-engineer': {\r\n        primaryKeywords: ['devops engineer', 'site reliability engineer', 'sre', 'cloud engineer'],\r\n        secondaryKeywords: ['devops', 'infrastructure', 'cloud', 'aws', 'azure', 'kubernetes', 'docker'],\r\n        excludeKeywords: []\r\n      },\r\n      'mobile-developer': {\r\n        primaryKeywords: ['mobile developer', 'ios developer', 'android developer', 'react native developer'],\r\n        secondaryKeywords: ['mobile', 'ios', 'android', 'react native', 'flutter', 'swift', 'kotlin'],\r\n        excludeKeywords: []\r\n      },\r\n      'graphic-designer': {\r\n        primaryKeywords: ['graphic designer', 'visual designer', 'brand designer'],\r\n        secondaryKeywords: ['graphic design', 'visual design', 'brand design', 'creative design'],\r\n        excludeKeywords: []\r\n      },\r\n      'marketing-specialist': {\r\n        primaryKeywords: ['marketing specialist', 'digital marketing', 'marketing manager', 'growth marketer'],\r\n        secondaryKeywords: ['marketing', 'content marketing', 'social media', 'seo', 'sem', 'growth'],\r\n        excludeKeywords: []\r\n      },\r\n      'project-manager': {\r\n        primaryKeywords: ['project manager', 'program manager', 'scrum master', 'product manager'],\r\n        secondaryKeywords: ['project management', 'agile', 'scrum', 'product management'],\r\n        excludeKeywords: []\r\n      }\r\n    };\r\n    \r\n    const categoryInfo = categoryRules[categoryId];\r\n    if (!categoryInfo) return false;\r\n    \r\n    let matchScore = 0;\r\n    \r\n    // æ£€æŸ¥ä¸»è¦å…³é”®è¯ï¼ˆé«˜æƒé‡ï¼‰\r\n    const primaryMatch = categoryInfo.primaryKeywords.some(keyword => \r\n      title.includes(keyword) || description.includes(keyword)\r\n    );\r\n    if (primaryMatch) matchScore += 10;\r\n    \r\n    // æ£€æŸ¥æ¬¡è¦å…³é”®è¯ï¼ˆä½Žæƒé‡ï¼‰\r\n    const secondaryMatches = categoryInfo.secondaryKeywords.filter(keyword => \r\n      title.includes(keyword) || description.includes(keyword) || skills.includes(keyword)\r\n    ).length;\r\n    matchScore += secondaryMatches * 2;\r\n    \r\n    // æ£€æŸ¥æŽ’é™¤å…³é”®è¯ï¼ˆè´Ÿæƒé‡ï¼‰\r\n    const excludeMatch = categoryInfo.excludeKeywords.some(keyword => \r\n      title.includes(keyword) || description.includes(keyword)\r\n    );\r\n    if (excludeMatch) matchScore -= 5;\r\n    \r\n    // è¿”å›žæ˜¯å¦åŒ¹é…ï¼ˆä½¿ç”¨ä¸ŽgenerateDynamicCategoriesç›¸åŒçš„é˜ˆå€¼ï¼‰\r\n    return matchScore >= 5;\r\n  };\r\n\r\n  // å¢žå¼ºçš„æœç´¢ç›¸å…³æ€§è¯„åˆ†å‡½æ•°\r\n  const calculateSearchRelevance = (job, searchTerm) => {\r\n    if (!searchTerm) return 0;\r\n    \r\n    const term = searchTerm.toLowerCase();\r\n    const title = job.title.toLowerCase();\r\n    const company = job.company.toLowerCase();\r\n    const location = job.location.toLowerCase();\r\n    const description = job.description ? job.description.toLowerCase() : '';\r\n    const skills = job.skills ? job.skills.join(' ').toLowerCase() : '';\r\n    \r\n    let score = 0;\r\n    \r\n    // æ ‡é¢˜åŒ¹é…ï¼ˆæœ€é«˜æƒé‡ï¼‰\r\n    if (title.includes(term)) {\r\n      if (title.startsWith(term)) score += 100; // æ ‡é¢˜å¼€å¤´åŒ¹é…\r\n      else if (title.split(' ').some(word => word.startsWith(term))) score += 80; // å•è¯å¼€å¤´åŒ¹é…\r\n      else score += 60; // æ ‡é¢˜åŒ…å«\r\n    }\r\n    \r\n    // å…¬å¸åç§°åŒ¹é…ï¼ˆé«˜æƒé‡ï¼‰\r\n    if (company.includes(term)) {\r\n      if (company.startsWith(term)) score += 50;\r\n      else score += 30;\r\n    }\r\n    \r\n    // æŠ€èƒ½åŒ¹é…ï¼ˆä¸­ç­‰æƒé‡ï¼‰\r\n    if (skills.includes(term)) {\r\n      const skillWords = skills.split(' ');\r\n      if (skillWords.some(skill => skill === term)) score += 40; // ç²¾ç¡®æŠ€èƒ½åŒ¹é…\r\n      else score += 20; // æŠ€èƒ½åŒ…å«\r\n    }\r\n    \r\n    // æè¿°åŒ¹é…ï¼ˆè¾ƒä½Žæƒé‡ï¼‰\r\n    if (description.includes(term)) {\r\n      const termCount = (description.match(new RegExp(term, 'g')) || []).length;\r\n      score += Math.min(termCount * 5, 25); // æœ€å¤š25åˆ†ï¼Œé¿å…æè¿°è¿‡åº¦å½±å“\r\n    }\r\n    \r\n    // ä½ç½®åŒ¹é…ï¼ˆè¾ƒä½Žæƒé‡ï¼‰\r\n    if (location.includes(term)) {\r\n      score += 15;\r\n    }\r\n    \r\n    // å¤šè¯æœç´¢çš„é¢å¤–è¯„åˆ†\r\n    const searchWords = term.split(' ').filter(word => word.length > 2);\r\n    if (searchWords.length > 1) {\r\n      const matchedWords = searchWords.filter(word => \r\n        title.includes(word) || company.includes(word) || skills.includes(word)\r\n      );\r\n      score += matchedWords.length * 10; // æ¯ä¸ªåŒ¹é…çš„è¯é¢å¤–10åˆ†\r\n    }\r\n    \r\n    return score;\r\n  };\r\n\r\n  // åº”ç”¨ç­›é€‰å™¨åˆ°å·¥ä½œåˆ—è¡¨ - ä½¿ç”¨ç»Ÿä¸€çš„åŒ¹é…é€»è¾‘å’Œç›¸å…³æ€§æŽ’åº\r\n  const applyFiltersToJobs = (filterIds, jobsData = jobs, searchTermData = searchTerm) => {\r\n    let results = [...jobsData];\r\n    \r\n    // é¦–å…ˆæŒ‰æœç´¢è¯è¿‡æ»¤å¹¶è®¡ç®—ç›¸å…³æ€§\r\n    if (searchTermData) {\r\n      results = results\r\n        .map(job => ({\r\n          ...job,\r\n          relevanceScore: calculateSearchRelevance(job, searchTermData)\r\n        }))\r\n        .filter(job => job.relevanceScore > 0) // åªä¿ç•™æœ‰ç›¸å…³æ€§çš„å·¥ä½œ\r\n        .sort((a, b) => b.relevanceScore - a.relevanceScore); // æŒ‰ç›¸å…³æ€§æŽ’åº\r\n      \r\n      console.log(`æœç´¢ \"${searchTermData}\" æ‰¾åˆ° ${results.length} ä¸ªç›¸å…³å·¥ä½œ`);\r\n      console.log('å‰5ä¸ªæœ€ç›¸å…³çš„å·¥ä½œ:', results.slice(0, 5).map(job => ({\r\n        title: job.title,\r\n        company: job.company,\r\n        score: job.relevanceScore\r\n      })));\r\n    }\r\n    \r\n    // ç„¶åŽæŒ‰èŒä½ç±»åž‹ç­›é€‰ - ä½¿ç”¨ä¸Žåˆ†ç±»ç”Ÿæˆç›¸åŒçš„æ™ºèƒ½åŒ¹é…é€»è¾‘\r\n    if (filterIds && filterIds.length > 0) {\r\n      results = results.filter(job => {\r\n        // æ£€æŸ¥å·¥ä½œæ˜¯å¦åŒ¹é…ä»»ä¸€æ¿€æ´»çš„ç­›é€‰å™¨\r\n        return filterIds.some(filterId => getJobCategoryMatch(job, filterId));\r\n      });\r\n    }\r\n    \r\n    console.log(`ç­›é€‰ç»“æžœ: ${results.length} ä¸ªå·¥ä½œ (åŽŸå§‹: ${jobs.length}, ç­›é€‰å™¨: ${filterIds})`);\r\n    \r\n    // è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œæ˜¾ç¤ºæ¯ä¸ªç­›é€‰å™¨åŒ¹é…åˆ°çš„å·¥ä½œ\r\n    if (filterIds && filterIds.length > 0) {\r\n      filterIds.forEach(filterId => {\r\n        const matchedJobs = results.filter(job => getJobCategoryMatch(job, filterId));\r\n        console.log(`ç­›é€‰å™¨ ${filterId} åŒ¹é…åˆ° ${matchedJobs.length} ä¸ªå·¥ä½œ:`, \r\n          matchedJobs.slice(0, 3).map(job => job.title));\r\n      });\r\n    }\r\n    \r\n    setFilteredJobs(results);\r\n  };\r\n  \r\n\r\n\r\n  // å¤„ç†å·¥ä½œå¡ç‰‡ç‚¹å‡»\r\n  const handleJobSelect = (job) => {\r\n    setSelectedJob(job);\r\n    setIsDrawerOpen(true);\r\n  };\r\n  \r\n  // å¤„ç†å…³é—­æŠ½å±‰\r\n  const handleCloseDrawer = () => {\r\n    setIsDrawerOpen(false);\r\n  };\r\n  \r\n  // å¤„ç†ç”³è¯·å·¥ä½œ\r\n  const handleApplyJob = (jobId) => {\r\n    console.log(`Applying for job: ${jobId}`);\r\n    \r\n    // ç›´æŽ¥ä½¿ç”¨selectedJobï¼Œè€Œä¸æ˜¯ä»Žjobsæ•°ç»„ä¸­æŸ¥æ‰¾\r\n    const job = selectedJob;\r\n    \r\n    if (!job) {\r\n      console.error('No selected job found');\r\n      alert('æ— æ³•æ‰¾åˆ°é€‰ä¸­çš„å·¥ä½œ');\r\n      return;\r\n    }\r\n    \r\n    // è¯¦ç»†è®°å½•å·¥ä½œå¯¹è±¡ï¼Œå¸®åŠ©è°ƒè¯•\r\n    console.log('Selected job details:', {\r\n      id: job.id,\r\n      title: job.title,\r\n      company: job.company,\r\n      source: job.source,\r\n      sourceUrl: job.sourceUrl,\r\n      sourceId: job.sourceId\r\n    });\r\n    \r\n    // åˆ›å»ºä¸€ä¸ªéšè—çš„aæ ‡ç­¾æ¥æ‰“å¼€é“¾æŽ¥ï¼Œè¿™æ ·å¯ä»¥é¿å…å¼¹å‡ºçª—å£è¢«é˜»æ­¢\r\n    const openLink = (url) => {\r\n      console.log(`Attempting to open URL: ${url}`);\r\n      \r\n      // åˆ›å»ºä¸€ä¸ªéšè—çš„aæ ‡ç­¾\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.target = '_blank';\r\n      link.rel = 'noopener noreferrer';\r\n      \r\n      // æ·»åŠ åˆ°æ–‡æ¡£ä¸­å¹¶è§¦å‘ç‚¹å‡»\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      \r\n      // æ¸…ç†\r\n      setTimeout(() => {\r\n        document.body.removeChild(link);\r\n      }, 100);\r\n    };\r\n    \r\n    let finalUrl = '';\r\n    \r\n    if (job.sourceUrl) {\r\n      // å¦‚æžœæœ‰æºURLï¼Œä½¿ç”¨å®ƒ\r\n      console.log(`Using source URL: ${job.sourceUrl}`);\r\n      finalUrl = job.sourceUrl;\r\n    } else if (job.source) {\r\n      // å¦‚æžœæ²¡æœ‰æºURLä½†æœ‰æ¥æºä¿¡æ¯ï¼Œå°è¯•æž„å»ºURL\r\n      switch (job.source) {\r\n        case 'LinkedIn':\r\n          finalUrl = `https://www.linkedin.com/jobs/view/${job.sourceId || job.id}`;\r\n          break;\r\n        case 'WeWorkRemotely':\r\n          // å°è¯•ä½¿ç”¨æ›´å¯èƒ½æ­£ç¡®çš„WeWorkRemotely URLæ ¼å¼\r\n          if (job.company && job.title) {\r\n            // å°†å…¬å¸åå’ŒèŒä½åè½¬æ¢ä¸ºURLå‹å¥½çš„æ ¼å¼\r\n            const companySlug = job.company.toLowerCase().replace(/[^a-z0-9]+/g, '-');\r\n            const titleSlug = job.title.toLowerCase().replace(/[^a-z0-9]+/g, '-');\r\n            finalUrl = `https://weworkremotely.com/remote-jobs/${companySlug}-${titleSlug}`;\r\n          } else {\r\n            finalUrl = `https://weworkremotely.com/remote-jobs/${job.sourceId || job.id}`;\r\n          }\r\n          break;\r\n        case 'RemoteOK':\r\n          finalUrl = `https://remoteok.io/l/${job.sourceId || job.id}`;\r\n          break;\r\n        default:\r\n          // å¦‚æžœæ— æ³•ç¡®å®šæ¥æºï¼Œå°è¯•ä½¿ç”¨é€šç”¨æœç´¢\r\n          finalUrl = `https://www.google.com/search?q=${encodeURIComponent(`${job.title} ${job.company} job`)}`;\r\n      }\r\n      console.log(`Constructed URL: ${finalUrl}`);\r\n    } else {\r\n      // å¦‚æžœæ²¡æœ‰ä»»ä½•é“¾æŽ¥ä¿¡æ¯ï¼Œæ˜¾ç¤ºæç¤ºå¹¶ä½¿ç”¨Googleæœç´¢\r\n      console.error('No source URL or source information found for job:', job);\r\n      finalUrl = `https://www.google.com/search?q=${encodeURIComponent(`${job.title} ${job.company} job`)}`;\r\n      alert('æ— æ³•æ‰¾åˆ°ç²¾ç¡®çš„å·¥ä½œé“¾æŽ¥ï¼Œå°†ä½¿ç”¨Googleæœç´¢');\r\n    }\r\n    \r\n    // å°è¯•æ‰“å¼€é“¾æŽ¥\r\n    if (finalUrl) {\r\n      openLink(finalUrl);\r\n    } else {\r\n      alert('æ— æ³•ç”Ÿæˆæœ‰æ•ˆçš„å·¥ä½œé“¾æŽ¥');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`job-feed ${isDrawerOpen ? 'drawer-open' : ''}`}>\r\n      <Header \r\n        onSearch={(term) => handleSearch(term)} \r\n        onFilter={handleFilter}\r\n        dynamicCategories={dynamicCategories}\r\n      />\r\n      \r\n      <div className=\"job-list-container\">\r\n        {loading ? (\r\n          <div className=\"loading-container\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p>\r\n              {loadingCountdown > 0 \r\n                ? `æ­£åœ¨åŠ è½½å·¥ä½œæ•°æ®ï¼Œé¢„è®¡è¿˜éœ€ ${loadingCountdown} ç§’...` \r\n                : 'Loading jobs...'\r\n              }\r\n            </p>\r\n          </div>\r\n        ) : searching ? (\r\n          <div className=\"searching-container\">\r\n            <div className=\"loading-spinner small\"></div>\r\n            <p>Searching...</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {filteredJobs.length > 0 ? (\r\n              <>\r\n                <div className=\"results-header\">\r\n                  <div className=\"results-main-info\">\r\n                    <span className=\"results-count\">\r\n                      æ‰¾åˆ° <span className=\"count-highlight\">{filteredJobs.length}</span> ä¸ªå·¥ä½œæœºä¼š\r\n                    </span>\r\n                    <span className=\"last-update-inline\">\r\n                      {isRefreshing && loadingCountdown > 0 \r\n                        ? `æ­£åœ¨åŠ è½½ä¸­ï¼Œé¢„è®¡è¿˜éœ€ ${loadingCountdown} ç§’`\r\n                        : `æœ€åŽæ›´æ–°: ${formatLastUpdate(lastUpdate)}`\r\n                      }\r\n                    </span>\r\n                    {realTimeStats && realTimeStats.newJobs > 0 && (\r\n                      <span className=\"new-jobs-inline\">\r\n                        <span className=\"number-highlight\">{realTimeStats.newJobs}</span> ä¸ªæ–°å·¥ä½œ\r\n                      </span>\r\n                    )}\r\n                    {realTimeStats && (\r\n                      <span className=\"total-updates-inline\">\r\n                        å·²æ›´æ–° <span className=\"number-highlight\">{realTimeStats.successfulUpdates}</span> æ¬¡\r\n                      </span>\r\n                    )}\r\n                    <span className=\"data-sources-inline\">\r\n                      æ•°æ®æ¥æº: {dataSources.join(', ')}\r\n                    </span>\r\n                    <button \r\n                      className={`refresh-btn-inline ${isRefreshing ? 'refreshing' : ''}`}\r\n                      onClick={handleRefresh}\r\n                      disabled={isRefreshing}\r\n                      title=\"åˆ·æ–°å·¥ä½œæ•°æ®\"\r\n                    >\r\n                      â†»\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"job-list\">\r\n                  {filteredJobs.map((job, index) => {\r\n                    if (filteredJobs.length === index + 1) {\r\n                      return (\r\n                        <div ref={lastJobElementRef} key={job.id}>\r\n                          <JobCard \r\n                            job={job} \r\n                            onSelect={() => handleJobSelect(job)}\r\n                          />\r\n                        </div>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <JobCard \r\n                          key={job.id} \r\n                          job={job} \r\n                          onSelect={() => handleJobSelect(job)}\r\n                        />\r\n                      );\r\n                    }\r\n                  })}\r\n                  {loadingMore && (\r\n                    <div className=\"loading-more\">\r\n                      <div className=\"loading-spinner small\"></div>\r\n                      <p>åŠ è½½æ›´å¤šå·¥ä½œ...</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"no-jobs-found\">\r\n                <h3>No jobs found</h3>\r\n                <p>Try adjusting your search filters</p>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n      \r\n      <JobDetailsDrawer \r\n        job={selectedJob}\r\n        isOpen={isDrawerOpen}\r\n        onClose={handleCloseDrawer}\r\n        onApply={handleApplyJob}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobFeed;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}