{"ast":null,"code":"import React,{useState}from'react';import'./Header.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{onSearch,onFilter,onRefresh,dynamicCategories=[],isRefreshing=false,lastUpdate=null}=_ref;const[searchTerm,setSearchTerm]=useState('');const[activeFilters,setActiveFilters]=useState([]);const[isSearchFocused,setIsSearchFocused]=useState(false);// 使用动态生成的分类，如果没有则使用默认分类\nconst filterOptions=dynamicCategories.length>0?dynamicCategories:[{id:'ux-designer',label:'UX Designer'},{id:'ui-designer',label:'UI Designer'},{id:'product-designer',label:'Product Designer'},{id:'visual-identity',label:'Visual Identity'}];const handleFilterClick=filterId=>{let newFilters;if(activeFilters.includes(filterId)){newFilters=activeFilters.filter(id=>id!==filterId);}else{newFilters=[...activeFilters,filterId];}setActiveFilters(newFilters);if(onFilter){onFilter(newFilters);}};const handleClearFilters=()=>{setActiveFilters([]);setSearchTerm('');if(onSearch){onSearch('');}if(onFilter){onFilter([]);}};const handleSearchChange=e=>{const value=e.target.value;setSearchTerm(value);// 实时搜索，使用防抖处理\nif(onSearch){// 使用setTimeout模拟防抖，实际项目中可以使用lodash的debounce函数\nclearTimeout(window.searchTimeout);window.searchTimeout=setTimeout(()=>{onSearch(value);},300);// 300ms的延迟，避免频繁触发搜索\n}};// 处理刷新按钮点击\nconst handleRefresh=()=>{if(onRefresh&&!isRefreshing){onRefresh();}};// 格式化最后更新时间\nconst formatLastUpdate=date=>{if(!date)return'';const now=new Date();const diff=now-new Date(date);const minutes=Math.floor(diff/60000);if(minutes<1)return'刚刚更新';if(minutes<60)return`${minutes}分钟前更新`;const hours=Math.floor(minutes/60);if(hours<24)return`${hours}小时前更新`;return'超过1天前更新';};return/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand-logo\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"brand-name\",children:\"Huntjob\"}),/*#__PURE__*/_jsx(\"span\",{className:\"brand-tagline\",children:\"\\u8FDC\\u7A0B\\u5DE5\\u4F5C\\u673A\\u4F1A\\u5E73\\u53F0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:`search-container ${isSearchFocused?'focused':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by Category, Company or ...\",value:searchTerm,onChange:handleSearchChange,onFocus:()=>setIsSearchFocused(true),onBlur:()=>setIsSearchFocused(false),className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"21\",x2:\"16.65\",y2:\"16.65\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-tags\",children:[filterOptions.map(filter=>/*#__PURE__*/_jsx(\"button\",{className:`filter-tag ${activeFilters.includes(filter.id)?'active':''}`,onClick:()=>handleFilterClick(filter.id),children:filter.label},filter.id)),(activeFilters.length>0||searchTerm)&&/*#__PURE__*/_jsx(\"button\",{className:\"clear-filters\",onClick:handleClearFilters,children:\"Clear filters\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"refresh-controls\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`refresh-button ${isRefreshing?'refreshing':''}`,onClick:handleRefresh,disabled:isRefreshing,title:\"\\u5237\\u65B0\\u83B7\\u53D6\\u6700\\u65B0\\u5DE5\\u4F5C\\u4FE1\\u606F\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"18\",height:\"18\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:isRefreshing?'spinning':'',children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23 4 23 10 17 10\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"1 20 1 14 7 14\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"})]}),isRefreshing?'刷新中...':'刷新']}),lastUpdate&&/*#__PURE__*/_jsx(\"span\",{className:\"last-update\",children:formatLastUpdate(lastUpdate)})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Header","_ref","onSearch","onFilter","onRefresh","dynamicCategories","isRefreshing","lastUpdate","searchTerm","setSearchTerm","activeFilters","setActiveFilters","isSearchFocused","setIsSearchFocused","filterOptions","length","id","label","handleFilterClick","filterId","newFilters","includes","filter","handleClearFilters","handleSearchChange","e","value","target","clearTimeout","window","searchTimeout","setTimeout","handleRefresh","formatLastUpdate","date","now","Date","diff","minutes","Math","floor","hours","className","children","type","placeholder","onChange","onFocus","onBlur","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","map","onClick","disabled","title","points","d"],"sources":["D:/Kiro/remote-job-website/src/components/Header.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Header.css';\r\n\r\nconst Header = ({ onSearch, onFilter, onRefresh, dynamicCategories = [], isRefreshing = false, lastUpdate = null }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [activeFilters, setActiveFilters] = useState([]);\r\n  const [isSearchFocused, setIsSearchFocused] = useState(false);\r\n  \r\n  // 使用动态生成的分类，如果没有则使用默认分类\r\n  const filterOptions = dynamicCategories.length > 0 ? dynamicCategories : [\r\n    { id: 'ux-designer', label: 'UX Designer' },\r\n    { id: 'ui-designer', label: 'UI Designer' },\r\n    { id: 'product-designer', label: 'Product Designer' },\r\n    { id: 'visual-identity', label: 'Visual Identity' }\r\n  ];\r\n  \r\n  const handleFilterClick = (filterId) => {\r\n    let newFilters;\r\n    if (activeFilters.includes(filterId)) {\r\n      newFilters = activeFilters.filter(id => id !== filterId);\r\n    } else {\r\n      newFilters = [...activeFilters, filterId];\r\n    }\r\n    setActiveFilters(newFilters);\r\n    \r\n    if (onFilter) {\r\n      onFilter(newFilters);\r\n    }\r\n  };\r\n  \r\n  const handleClearFilters = () => {\r\n    setActiveFilters([]);\r\n    setSearchTerm('');\r\n    \r\n    if (onSearch) {\r\n      onSearch('');\r\n    }\r\n    \r\n    if (onFilter) {\r\n      onFilter([]);\r\n    }\r\n  };\r\n  \r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchTerm(value);\r\n    \r\n    // 实时搜索，使用防抖处理\r\n    if (onSearch) {\r\n      // 使用setTimeout模拟防抖，实际项目中可以使用lodash的debounce函数\r\n      clearTimeout(window.searchTimeout);\r\n      window.searchTimeout = setTimeout(() => {\r\n        onSearch(value);\r\n      }, 300); // 300ms的延迟，避免频繁触发搜索\r\n    }\r\n  };\r\n\r\n  // 处理刷新按钮点击\r\n  const handleRefresh = () => {\r\n    if (onRefresh && !isRefreshing) {\r\n      onRefresh();\r\n    }\r\n  };\r\n\r\n  // 格式化最后更新时间\r\n  const formatLastUpdate = (date) => {\r\n    if (!date) return '';\r\n    \r\n    const now = new Date();\r\n    const diff = now - new Date(date);\r\n    const minutes = Math.floor(diff / 60000);\r\n    \r\n    if (minutes < 1) return '刚刚更新';\r\n    if (minutes < 60) return `${minutes}分钟前更新`;\r\n    \r\n    const hours = Math.floor(minutes / 60);\r\n    if (hours < 24) return `${hours}小时前更新`;\r\n    \r\n    return '超过1天前更新';\r\n  };\r\n  \r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header-content\">\r\n        <div className=\"brand-logo\">\r\n          <h1 className=\"brand-name\">Huntjob</h1>\r\n          <span className=\"brand-tagline\">远程工作机会平台</span>\r\n        </div>\r\n        <div className={`search-container ${isSearchFocused ? 'focused' : ''}`}>\r\n          <div className=\"search-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by Category, Company or ...\"\r\n              value={searchTerm}\r\n              onChange={handleSearchChange}\r\n              onFocus={() => setIsSearchFocused(true)}\r\n              onBlur={() => setIsSearchFocused(false)}\r\n              className=\"search-input\"\r\n            />\r\n            <button className=\"search-button\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\r\n                <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"filter-tags\">\r\n            {filterOptions.map(filter => (\r\n              <button\r\n                key={filter.id}\r\n                className={`filter-tag ${activeFilters.includes(filter.id) ? 'active' : ''}`}\r\n                onClick={() => handleFilterClick(filter.id)}\r\n              >\r\n                {filter.label}\r\n              </button>\r\n            ))}\r\n            \r\n            {(activeFilters.length > 0 || searchTerm) && (\r\n              <button className=\"clear-filters\" onClick={handleClearFilters}>\r\n                Clear filters\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* 刷新控制区域 */}\r\n        <div className=\"refresh-controls\">\r\n          <button \r\n            className={`refresh-button ${isRefreshing ? 'refreshing' : ''}`}\r\n            onClick={handleRefresh}\r\n            disabled={isRefreshing}\r\n            title=\"刷新获取最新工作信息\"\r\n          >\r\n            <svg \r\n              xmlns=\"http://www.w3.org/2000/svg\" \r\n              width=\"18\" \r\n              height=\"18\" \r\n              viewBox=\"0 0 24 24\" \r\n              fill=\"none\" \r\n              stroke=\"currentColor\" \r\n              strokeWidth=\"2\" \r\n              strokeLinecap=\"round\" \r\n              strokeLinejoin=\"round\"\r\n              className={isRefreshing ? 'spinning' : ''}\r\n            >\r\n              <polyline points=\"23 4 23 10 17 10\"></polyline>\r\n              <polyline points=\"1 20 1 14 7 14\"></polyline>\r\n              <path d=\"m3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\"></path>\r\n            </svg>\r\n            {isRefreshing ? '刷新中...' : '刷新'}\r\n          </button>\r\n          \r\n          {lastUpdate && (\r\n            <span className=\"last-update\">\r\n              {formatLastUpdate(lastUpdate)}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}