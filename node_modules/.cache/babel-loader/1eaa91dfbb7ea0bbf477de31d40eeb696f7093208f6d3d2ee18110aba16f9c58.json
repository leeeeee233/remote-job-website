{"ast":null,"code":"// WeWorkRemotely API适配器\n// 处理WeWorkRemotely RSS feed的获取和解析\n\nimport ApiAdapter from './ApiAdapter';\nimport { parseRssFeed } from './httpUtils';\nimport logoService from '../logoService';\nimport { formatRelativeDate, extractSkills, extractTeam, estimateSalary, generateRandomStats, extractTextFromHtml, extractQualifications } from './responseTransformer';\nclass WWRApiAdapter extends ApiAdapter {\n  constructor(options = {}) {\n    // WeWorkRemotely没有真正的API，我们使用RSS feed\n    super('https://weworkremotely.com', options);\n    this.apiKey = options.apiKey || ''; // RSS2JSON API密钥\n    this.categories = {\n      'programming': 'remote-jobs/remote-programming-jobs',\n      'design': 'remote-jobs/remote-design-jobs',\n      'marketing': 'remote-jobs/remote-marketing-jobs',\n      'management': 'remote-jobs/remote-management-executive-jobs',\n      'sales': 'remote-jobs/remote-sales-jobs',\n      'customer-support': 'remote-jobs/remote-customer-support-jobs',\n      'all': 'categories/remote-jobs'\n    };\n  }\n\n  /**\r\n   * 获取RSS feed URL\r\n   * @param {string} category - 工作类别\r\n   * @returns {string} - RSS feed URL\r\n   */\n  getRssFeedUrl(category = 'all') {\n    const categoryPath = this.categories[category] || this.categories.all;\n    return `${this.baseUrl}/${categoryPath}.rss`;\n  }\n\n  /**\r\n   * 搜索工作\r\n   * @param {string} searchTerm - 搜索关键词\r\n   * @param {string} category - 工作类别\r\n   * @returns {Promise<Object>} - 工作搜索结果\r\n   */\n  async searchJobs(searchTerm = '', category = 'all') {\n    try {\n      // 获取RSS feed URL\n      const rssUrl = this.getRssFeedUrl(category);\n      console.log('Fetching WeWorkRemotely jobs from:', rssUrl);\n\n      // 使用RSS2JSON服务解析RSS feed\n      const rss2jsonUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;\n      const options = {};\n      if (this.apiKey) {\n        options.headers = {\n          'Authorization': `ApiKey ${this.apiKey}`\n        };\n      }\n      const response = await fetch(rss2jsonUrl, options);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch WeWorkRemotely jobs: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.status !== 'ok') {\n        throw new Error('Invalid response from RSS2JSON');\n      }\n\n      // 处理RSS feed项目\n      let jobs = data.items.map((item, index) => {\n        // 从标题中提取公司名称和职位\n        const titleMatch = item.title.match(/(.*?):(.*)/);\n        const company = titleMatch ? titleMatch[1].trim() : 'Unknown Company';\n        const title = titleMatch ? titleMatch[2].trim() : item.title;\n        return {\n          id: `wwr-${index}-${Date.now()}`,\n          title: item.title,\n          company: company,\n          logo: `https://logo.clearbit.com/${company.toLowerCase().replace(/\\\\s+/g, '')}.com`,\n          location: 'Remote',\n          job_type: 'Full-time',\n          pubDate: item.pubDate,\n          description: item.description || item.content,\n          url: item.link,\n          tags: this.extractTagsFromDescription(item.description || item.content)\n        };\n      });\n\n      // 如果有搜索词，过滤结果\n      if (searchTerm) {\n        jobs = jobs.filter(job => job.title.toLowerCase().includes(searchTerm.toLowerCase()) || job.description.toLowerCase().includes(searchTerm.toLowerCase()) || job.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase())));\n      }\n\n      // 转换为统一格式\n      const transformedJobs = jobs.map(job => this.transformJob(job));\n      return {\n        jobs: transformedJobs,\n        total: transformedJobs.length,\n        source: 'WeWorkRemotely'\n      };\n    } catch (error) {\n      console.error('Error fetching WeWorkRemotely jobs:', error);\n\n      // 如果API调用失败，回退到模拟数据\n      console.log('Falling back to mock data for WeWorkRemotely');\n      const mockData = this.getMockWWRJobs(searchTerm, category);\n      const jobs = mockData.map(job => this.transformJob(job));\n      return {\n        jobs,\n        total: jobs.length,\n        source: 'WeWorkRemotely (Mock)'\n      };\n    }\n  }\n\n  /**\r\n   * 从描述中提取标签\r\n   * @param {string} description - 工作描述\r\n   * @returns {string[]} - 提取的标签\r\n   */\n  extractTagsFromDescription(description) {\n    if (!description) return [];\n    const commonTags = ['JavaScript', 'Python', 'React', 'Node.js', 'TypeScript', 'Angular', 'Vue.js', 'Java', 'C#', '.NET', 'MongoDB', 'PostgreSQL', 'MySQL', 'AWS', 'Azure', 'Docker', 'Kubernetes', 'CI/CD', 'DevOps', 'Git', 'Linux', 'Figma', 'Sketch', 'Adobe XD', 'UI/UX', 'CSS', 'HTML', 'REST API', 'GraphQL', 'Remote', 'Full-time', 'Part-time', 'Contract', 'Freelance'];\n    const foundTags = commonTags.filter(tag => description.toLowerCase().includes(tag.toLowerCase()));\n    return foundTags.length > 0 ? foundTags.slice(0, 5) : ['Remote Work'];\n  }\n\n  /**\r\n   * 获取工作详情\r\n   * @param {string} jobId - 工作ID\r\n   * @returns {Promise<Object>} - 工作详情\r\n   */\n  async getJobDetails(jobId) {\n    try {\n      // WeWorkRemotely没有单独的工作详情API，我们需要从列表中找到对应的工作\n      console.log('Fetching WeWorkRemotely job details for ID:', jobId);\n\n      // 模拟API调用延迟\n      await new Promise(resolve => setTimeout(resolve, 600));\n\n      // 返回模拟数据\n      return this.getMockJobDetails(jobId);\n    } catch (error) {\n      throw this.handleError(error, 'WeWorkRemotely Job Details');\n    }\n  }\n\n  /**\r\n   * 将WeWorkRemotely工作数据转换为统一格式\r\n   * @param {Object} wwrJob - WeWorkRemotely工作数据\r\n   * @returns {Promise<Object>} - 统一格式的工作数据\r\n   */\n  async transformJob(wwrJob) {\n    // 从标题中提取公司名称和职位\n    const titleMatch = wwrJob.title ? wwrJob.title.match(/(.*?):(.*)/i) : null;\n    const company = titleMatch ? titleMatch[1].trim() : wwrJob.company || 'Unknown Company';\n    const title = titleMatch ? titleMatch[2].trim() : wwrJob.title || 'Unknown Position';\n\n    // 提取纯文本描述\n    const plainDescription = extractTextFromHtml(wwrJob.description || '');\n    return {\n      id: wwrJob.id || `wwr-${Math.random().toString(36).substring(2, 10)}`,\n      title: title,\n      company: company,\n      companyLogo: await logoService.getCompanyLogo(company, wwrJob.logo),\n      location: wwrJob.location || 'Remote',\n      type: wwrJob.job_type || 'Full-time',\n      salary: estimateSalary(title),\n      team: extractTeam(title),\n      postedDate: formatRelativeDate(wwrJob.pubDate || wwrJob.date),\n      views: wwrJob.views || generateRandomStats().views,\n      applicants: wwrJob.applicants || generateRandomStats().applicants,\n      description: plainDescription || 'No description available',\n      skills: extractSkills(plainDescription || title),\n      source: 'WeWorkRemotely',\n      sourceUrl: wwrJob.url || wwrJob.link || `https://weworkremotely.com/jobs/${wwrJob.id}`,\n      sourceId: wwrJob.id\n    };\n  }\n\n  /**\r\n   * 将WeWorkRemotely工作详情转换为统一格式\r\n   * @param {Object} wwrJobDetail - WeWorkRemotely工作详情\r\n   * @returns {Object} - 统一格式的工作详情\r\n   */\n  transformJobDetail(wwrJobDetail) {\n    const job = this.transformJob(wwrJobDetail);\n    const qualifications = extractQualifications(wwrJobDetail.description || '');\n    return {\n      ...job,\n      minimumQualifications: qualifications.minimumQualifications,\n      preferredQualifications: qualifications.preferredQualifications,\n      aboutJob: wwrJobDetail.description || 'No description available',\n      companyInfo: wwrJobDetail.company_description || 'No company information available',\n      benefits: wwrJobDetail.benefits || [],\n      applicationUrl: wwrJobDetail.url || job.sourceUrl\n    };\n  }\n\n  /**\r\n   * 获取模拟的WeWorkRemotely工作数据\r\n   * @param {string} searchTerm - 搜索关键词\r\n   * @param {string} category - 工作类别\r\n   * @returns {Array} - 工作数据数组\r\n   */\n  getMockWWRJobs(searchTerm = '', category = 'all') {\n    const allJobs = [{\n      id: 'wwr-1',\n      title: 'Doist: Senior React Developer',\n      company: 'Doist',\n      logo: 'https://logo.clearbit.com/doist.com',\n      location: 'Remote - Worldwide',\n      job_type: 'Full-time',\n      pubDate: '2023-07-21T10:30:00Z',\n      views: 245,\n      applicants: 18,\n      description: '<p>Join our fully remote team building the next generation of productivity tools like Todoist and Twist.</p><p>Requirements:</p><ul><li>5+ years of experience with React</li><li>Strong TypeScript skills</li><li>Experience with state management libraries</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-1',\n      tags: ['React', 'TypeScript', 'Remote']\n    }, {\n      id: 'wwr-2',\n      title: 'Automattic: UX/UI Designer',\n      company: 'Automattic',\n      logo: 'https://logo.clearbit.com/automattic.com',\n      location: 'Remote - Global',\n      job_type: 'Full-time',\n      pubDate: '2023-07-19T14:15:00Z',\n      views: 189,\n      applicants: 24,\n      description: '<p>Create beautiful and intuitive user experiences for WordPress.com, WooCommerce, and other Automattic products.</p><p>Requirements:</p><ul><li>Portfolio demonstrating UX/UI design skills</li><li>Experience with Figma or Sketch</li><li>Understanding of web accessibility standards</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-2',\n      tags: ['Design', 'UX', 'UI', 'Figma']\n    }, {\n      id: 'wwr-3',\n      title: 'Shopify: Senior Backend Engineer (Ruby)',\n      company: 'Shopify',\n      logo: 'https://logo.clearbit.com/shopify.com',\n      location: 'Remote - Americas',\n      job_type: 'Full-time',\n      pubDate: '2023-07-18T09:45:00Z',\n      views: 312,\n      applicants: 27,\n      description: '<p>Build and scale the infrastructure that powers millions of online stores worldwide.</p><p>Requirements:</p><ul><li>5+ years of experience with Ruby/Rails</li><li>Experience with high-traffic applications</li><li>Knowledge of database optimization</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-3',\n      tags: ['Ruby', 'Rails', 'Backend']\n    }, {\n      id: 'wwr-4',\n      title: 'GitLab: DevOps Engineer',\n      company: 'GitLab',\n      logo: 'https://logo.clearbit.com/gitlab.com',\n      location: 'Remote - Worldwide',\n      job_type: 'Full-time',\n      pubDate: '2023-07-14T11:20:00Z',\n      views: 278,\n      applicants: 31,\n      description: '<p>Join the world\\'s largest all-remote company to help scale our infrastructure and improve our DevOps practices.</p><p>Requirements:</p><ul><li>Experience with Kubernetes and container orchestration</li><li>Knowledge of infrastructure as code (Terraform, Ansible)</li><li>Experience with CI/CD pipelines</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-4',\n      tags: ['DevOps', 'Kubernetes', 'CI/CD']\n    }, {\n      id: 'wwr-5',\n      title: 'Buffer: Product Manager',\n      company: 'Buffer',\n      logo: 'https://logo.clearbit.com/buffer.com',\n      location: 'Remote - Global',\n      job_type: 'Full-time',\n      pubDate: '2023-07-17T13:10:00Z',\n      views: 203,\n      applicants: 42,\n      description: '<p>Lead product development for Buffer\\'s social media management platform used by millions worldwide.</p><p>Requirements:</p><ul><li>3+ years of product management experience</li><li>Experience with agile methodologies</li><li>Strong analytical and problem-solving skills</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-5',\n      tags: ['Product', 'Management', 'Agile']\n    }, {\n      id: 'wwr-6',\n      title: 'Zapier: Full Stack Engineer',\n      company: 'Zapier',\n      logo: 'https://logo.clearbit.com/zapier.com',\n      location: 'Remote - Worldwide',\n      job_type: 'Full-time',\n      pubDate: '2023-07-16T08:30:00Z',\n      views: 342,\n      applicants: 29,\n      description: '<p>Build features across the entire stack to help our users automate their work.</p><p>Requirements:</p><ul><li>Experience with JavaScript/TypeScript</li><li>Experience with Python or Node.js</li><li>Knowledge of React or similar frontend frameworks</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-6',\n      tags: ['JavaScript', 'Python', 'React']\n    }, {\n      id: 'wwr-7',\n      title: 'Basecamp: Rails Programmer',\n      company: 'Basecamp',\n      logo: 'https://logo.clearbit.com/basecamp.com',\n      location: 'Remote - Worldwide',\n      job_type: 'Full-time',\n      pubDate: '2023-07-15T15:45:00Z',\n      views: 387,\n      applicants: 41,\n      description: '<p>Join our team to work on Basecamp and HEY using Ruby on Rails.</p><p>Requirements:</p><ul><li>Experience with Ruby on Rails</li><li>Strong understanding of web fundamentals</li><li>Excellent written communication skills</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-7',\n      tags: ['Ruby', 'Rails', 'Backend']\n    }, {\n      id: 'wwr-8',\n      title: 'InVision: Senior Product Designer',\n      company: 'InVision',\n      logo: 'https://logo.clearbit.com/invisionapp.com',\n      location: 'Remote - Americas',\n      job_type: 'Full-time',\n      pubDate: '2023-07-18T10:20:00Z',\n      views: 312,\n      applicants: 27,\n      description: '<p>Design digital products that are used by millions of designers and developers.</p><p>Requirements:</p><ul><li>5+ years of product design experience</li><li>Experience with design systems</li><li>Strong portfolio showcasing UX/UI work</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-8',\n      tags: ['Design', 'UX', 'UI']\n    }, {\n      id: 'wwr-9',\n      title: 'Toptal: Technical Editor',\n      company: 'Toptal',\n      logo: 'https://logo.clearbit.com/toptal.com',\n      location: 'Remote - Global',\n      job_type: 'Full-time',\n      pubDate: '2023-07-13T09:15:00Z',\n      views: 245,\n      applicants: 19,\n      description: '<p>Edit and review technical content for our engineering blog.</p><p>Requirements:</p><ul><li>Strong technical background</li><li>Excellent editing and writing skills</li><li>Experience with technical content creation</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-9',\n      tags: ['Content', 'Editing', 'Technical Writing']\n    }, {\n      id: 'wwr-10',\n      title: 'Auth0: Security Engineer',\n      company: 'Auth0',\n      logo: 'https://logo.clearbit.com/auth0.com',\n      location: 'Remote - Americas',\n      job_type: 'Full-time',\n      pubDate: '2023-07-16T14:30:00Z',\n      views: 289,\n      applicants: 31,\n      description: '<p>Help us build and maintain secure authentication and authorization systems.</p><p>Requirements:</p><ul><li>Experience with application security</li><li>Knowledge of OAuth and OpenID Connect</li><li>Experience with security assessments</li></ul>',\n      url: 'https://weworkremotely.com/jobs/wwr-10',\n      tags: ['Security', 'OAuth', 'Authentication']\n    }];\n\n    // 如果有搜索词，过滤结果\n    if (searchTerm) {\n      return allJobs.filter(job => job.title.toLowerCase().includes(searchTerm.toLowerCase()) || job.description.toLowerCase().includes(searchTerm.toLowerCase()) || job.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase())));\n    }\n\n    // 如果有类别筛选\n    if (category && category !== 'all') {\n      const categoryKeywords = {\n        'programming': ['developer', 'engineer', 'programmer', 'coding', 'software'],\n        'design': ['designer', 'design', 'ui', 'ux', 'graphic'],\n        'marketing': ['marketing', 'growth', 'seo', 'content'],\n        'management': ['manager', 'director', 'executive', 'lead'],\n        'sales': ['sales', 'account', 'business development'],\n        'customer-support': ['support', 'customer', 'service']\n      };\n      const keywords = categoryKeywords[category] || [];\n      return allJobs.filter(job => keywords.some(keyword => job.title.toLowerCase().includes(keyword) || job.description.toLowerCase().includes(keyword) || job.tags.some(tag => tag.toLowerCase().includes(keyword))));\n    }\n    return allJobs;\n  }\n\n  /**\r\n   * 获取模拟的工作详情\r\n   * @param {string} jobId - 工作ID\r\n   * @returns {Object} - 工作详情\r\n   */\n  getMockJobDetails(jobId) {\n    // 查找基本工作信息\n    const allJobs = this.getMockWWRJobs();\n    const job = allJobs.find(job => job.id === jobId);\n    if (!job) {\n      throw new Error(`Job with ID ${jobId} not found`);\n    }\n\n    // 添加详细信息\n    return {\n      ...job,\n      company_description: `${job.company} is a leading company in its field, known for innovation and a great remote work culture. We offer competitive benefits and a supportive team environment.`,\n      benefits: ['Competitive salary', 'Flexible working hours', 'Home office stipend', 'Health insurance', 'Annual team retreats', 'Professional development budget']\n    };\n  }\n}\nexport default WWRApiAdapter;","map":{"version":3,"names":["ApiAdapter","parseRssFeed","logoService","formatRelativeDate","extractSkills","extractTeam","estimateSalary","generateRandomStats","extractTextFromHtml","extractQualifications","WWRApiAdapter","constructor","options","apiKey","categories","getRssFeedUrl","category","categoryPath","all","baseUrl","searchJobs","searchTerm","rssUrl","console","log","rss2jsonUrl","encodeURIComponent","headers","response","fetch","ok","Error","status","data","json","jobs","items","map","item","index","titleMatch","title","match","company","trim","id","Date","now","logo","toLowerCase","replace","location","job_type","pubDate","description","content","url","link","tags","extractTagsFromDescription","filter","job","includes","some","tag","transformedJobs","transformJob","total","length","source","error","mockData","getMockWWRJobs","commonTags","foundTags","slice","getJobDetails","jobId","Promise","resolve","setTimeout","getMockJobDetails","handleError","wwrJob","plainDescription","Math","random","toString","substring","companyLogo","getCompanyLogo","type","salary","team","postedDate","date","views","applicants","skills","sourceUrl","sourceId","transformJobDetail","wwrJobDetail","qualifications","minimumQualifications","preferredQualifications","aboutJob","companyInfo","company_description","benefits","applicationUrl","allJobs","categoryKeywords","keywords","keyword","find"],"sources":["D:/Kiro/remote-job-website/src/services/api/WWRApiAdapter.js"],"sourcesContent":["// WeWorkRemotely API适配器\r\n// 处理WeWorkRemotely RSS feed的获取和解析\r\n\r\nimport ApiAdapter from './ApiAdapter';\r\nimport { parseRssFeed } from './httpUtils';\r\nimport logoService from '../logoService';\r\nimport { \r\n  formatRelativeDate, \r\n  extractSkills, \r\n  extractTeam, \r\n  estimateSalary, \r\n  generateRandomStats,\r\n  extractTextFromHtml,\r\n  extractQualifications\r\n} from './responseTransformer';\r\n\r\nclass WWRApiAdapter extends ApiAdapter {\r\n  constructor(options = {}) {\r\n    // WeWorkRemotely没有真正的API，我们使用RSS feed\r\n    super('https://weworkremotely.com', options);\r\n    \r\n    this.apiKey = options.apiKey || ''; // RSS2JSON API密钥\r\n    this.categories = {\r\n      'programming': 'remote-jobs/remote-programming-jobs',\r\n      'design': 'remote-jobs/remote-design-jobs',\r\n      'marketing': 'remote-jobs/remote-marketing-jobs',\r\n      'management': 'remote-jobs/remote-management-executive-jobs',\r\n      'sales': 'remote-jobs/remote-sales-jobs',\r\n      'customer-support': 'remote-jobs/remote-customer-support-jobs',\r\n      'all': 'categories/remote-jobs'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 获取RSS feed URL\r\n   * @param {string} category - 工作类别\r\n   * @returns {string} - RSS feed URL\r\n   */\r\n  getRssFeedUrl(category = 'all') {\r\n    const categoryPath = this.categories[category] || this.categories.all;\r\n    return `${this.baseUrl}/${categoryPath}.rss`;\r\n  }\r\n\r\n  /**\r\n   * 搜索工作\r\n   * @param {string} searchTerm - 搜索关键词\r\n   * @param {string} category - 工作类别\r\n   * @returns {Promise<Object>} - 工作搜索结果\r\n   */\r\n  async searchJobs(searchTerm = '', category = 'all') {\r\n    try {\r\n      // 获取RSS feed URL\r\n      const rssUrl = this.getRssFeedUrl(category);\r\n      \r\n      console.log('Fetching WeWorkRemotely jobs from:', rssUrl);\r\n      \r\n      // 使用RSS2JSON服务解析RSS feed\r\n      const rss2jsonUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;\r\n      \r\n      const options = {};\r\n      if (this.apiKey) {\r\n        options.headers = {\r\n          'Authorization': `ApiKey ${this.apiKey}`\r\n        };\r\n      }\r\n      \r\n      const response = await fetch(rss2jsonUrl, options);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch WeWorkRemotely jobs: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.status !== 'ok') {\r\n        throw new Error('Invalid response from RSS2JSON');\r\n      }\r\n      \r\n      // 处理RSS feed项目\r\n      let jobs = data.items.map((item, index) => {\r\n        // 从标题中提取公司名称和职位\r\n        const titleMatch = item.title.match(/(.*?):(.*)/);\r\n        const company = titleMatch ? titleMatch[1].trim() : 'Unknown Company';\r\n        const title = titleMatch ? titleMatch[2].trim() : item.title;\r\n        \r\n        return {\r\n          id: `wwr-${index}-${Date.now()}`,\r\n          title: item.title,\r\n          company: company,\r\n          logo: `https://logo.clearbit.com/${company.toLowerCase().replace(/\\\\s+/g, '')}.com`,\r\n          location: 'Remote',\r\n          job_type: 'Full-time',\r\n          pubDate: item.pubDate,\r\n          description: item.description || item.content,\r\n          url: item.link,\r\n          tags: this.extractTagsFromDescription(item.description || item.content)\r\n        };\r\n      });\r\n      \r\n      // 如果有搜索词，过滤结果\r\n      if (searchTerm) {\r\n        jobs = jobs.filter(job => \r\n          job.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n          job.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n          job.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n        );\r\n      }\r\n      \r\n      // 转换为统一格式\r\n      const transformedJobs = jobs.map(job => this.transformJob(job));\r\n      \r\n      return {\r\n        jobs: transformedJobs,\r\n        total: transformedJobs.length,\r\n        source: 'WeWorkRemotely'\r\n      };\r\n    } catch (error) {\r\n      console.error('Error fetching WeWorkRemotely jobs:', error);\r\n      \r\n      // 如果API调用失败，回退到模拟数据\r\n      console.log('Falling back to mock data for WeWorkRemotely');\r\n      const mockData = this.getMockWWRJobs(searchTerm, category);\r\n      const jobs = mockData.map(job => this.transformJob(job));\r\n      \r\n      return {\r\n        jobs,\r\n        total: jobs.length,\r\n        source: 'WeWorkRemotely (Mock)'\r\n      };\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * 从描述中提取标签\r\n   * @param {string} description - 工作描述\r\n   * @returns {string[]} - 提取的标签\r\n   */\r\n  extractTagsFromDescription(description) {\r\n    if (!description) return [];\r\n    \r\n    const commonTags = [\r\n      'JavaScript', 'Python', 'React', 'Node.js', 'TypeScript', 'Angular', 'Vue.js', \r\n      'Java', 'C#', '.NET', 'MongoDB', 'PostgreSQL', 'MySQL', 'AWS', 'Azure', \r\n      'Docker', 'Kubernetes', 'CI/CD', 'DevOps', 'Git', 'Linux', 'Figma', \r\n      'Sketch', 'Adobe XD', 'UI/UX', 'CSS', 'HTML', 'REST API', 'GraphQL',\r\n      'Remote', 'Full-time', 'Part-time', 'Contract', 'Freelance'\r\n    ];\r\n    \r\n    const foundTags = commonTags.filter(tag => \r\n      description.toLowerCase().includes(tag.toLowerCase())\r\n    );\r\n    \r\n    return foundTags.length > 0 ? foundTags.slice(0, 5) : ['Remote Work'];\r\n  }\r\n\r\n  /**\r\n   * 获取工作详情\r\n   * @param {string} jobId - 工作ID\r\n   * @returns {Promise<Object>} - 工作详情\r\n   */\r\n  async getJobDetails(jobId) {\r\n    try {\r\n      // WeWorkRemotely没有单独的工作详情API，我们需要从列表中找到对应的工作\r\n      console.log('Fetching WeWorkRemotely job details for ID:', jobId);\r\n      \r\n      // 模拟API调用延迟\r\n      await new Promise(resolve => setTimeout(resolve, 600));\r\n      \r\n      // 返回模拟数据\r\n      return this.getMockJobDetails(jobId);\r\n    } catch (error) {\r\n      throw this.handleError(error, 'WeWorkRemotely Job Details');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 将WeWorkRemotely工作数据转换为统一格式\r\n   * @param {Object} wwrJob - WeWorkRemotely工作数据\r\n   * @returns {Promise<Object>} - 统一格式的工作数据\r\n   */\r\n  async transformJob(wwrJob) {\r\n    // 从标题中提取公司名称和职位\r\n    const titleMatch = wwrJob.title ? wwrJob.title.match(/(.*?):(.*)/i) : null;\r\n    const company = titleMatch ? titleMatch[1].trim() : wwrJob.company || 'Unknown Company';\r\n    const title = titleMatch ? titleMatch[2].trim() : wwrJob.title || 'Unknown Position';\r\n    \r\n    // 提取纯文本描述\r\n    const plainDescription = extractTextFromHtml(wwrJob.description || '');\r\n    \r\n    return {\r\n      id: wwrJob.id || `wwr-${Math.random().toString(36).substring(2, 10)}`,\r\n      title: title,\r\n      company: company,\r\n      companyLogo: await logoService.getCompanyLogo(company, wwrJob.logo),\r\n      location: wwrJob.location || 'Remote',\r\n      type: wwrJob.job_type || 'Full-time',\r\n      salary: estimateSalary(title),\r\n      team: extractTeam(title),\r\n      postedDate: formatRelativeDate(wwrJob.pubDate || wwrJob.date),\r\n      views: wwrJob.views || generateRandomStats().views,\r\n      applicants: wwrJob.applicants || generateRandomStats().applicants,\r\n      description: plainDescription || 'No description available',\r\n      skills: extractSkills(plainDescription || title),\r\n      source: 'WeWorkRemotely',\r\n      sourceUrl: wwrJob.url || wwrJob.link || `https://weworkremotely.com/jobs/${wwrJob.id}`,\r\n      sourceId: wwrJob.id\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 将WeWorkRemotely工作详情转换为统一格式\r\n   * @param {Object} wwrJobDetail - WeWorkRemotely工作详情\r\n   * @returns {Object} - 统一格式的工作详情\r\n   */\r\n  transformJobDetail(wwrJobDetail) {\r\n    const job = this.transformJob(wwrJobDetail);\r\n    const qualifications = extractQualifications(wwrJobDetail.description || '');\r\n    \r\n    return {\r\n      ...job,\r\n      minimumQualifications: qualifications.minimumQualifications,\r\n      preferredQualifications: qualifications.preferredQualifications,\r\n      aboutJob: wwrJobDetail.description || 'No description available',\r\n      companyInfo: wwrJobDetail.company_description || 'No company information available',\r\n      benefits: wwrJobDetail.benefits || [],\r\n      applicationUrl: wwrJobDetail.url || job.sourceUrl\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 获取模拟的WeWorkRemotely工作数据\r\n   * @param {string} searchTerm - 搜索关键词\r\n   * @param {string} category - 工作类别\r\n   * @returns {Array} - 工作数据数组\r\n   */\r\n  getMockWWRJobs(searchTerm = '', category = 'all') {\r\n    const allJobs = [\r\n      {\r\n        id: 'wwr-1',\r\n        title: 'Doist: Senior React Developer',\r\n        company: 'Doist',\r\n        logo: 'https://logo.clearbit.com/doist.com',\r\n        location: 'Remote - Worldwide',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-21T10:30:00Z',\r\n        views: 245,\r\n        applicants: 18,\r\n        description: '<p>Join our fully remote team building the next generation of productivity tools like Todoist and Twist.</p><p>Requirements:</p><ul><li>5+ years of experience with React</li><li>Strong TypeScript skills</li><li>Experience with state management libraries</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-1',\r\n        tags: ['React', 'TypeScript', 'Remote']\r\n      },\r\n      {\r\n        id: 'wwr-2',\r\n        title: 'Automattic: UX/UI Designer',\r\n        company: 'Automattic',\r\n        logo: 'https://logo.clearbit.com/automattic.com',\r\n        location: 'Remote - Global',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-19T14:15:00Z',\r\n        views: 189,\r\n        applicants: 24,\r\n        description: '<p>Create beautiful and intuitive user experiences for WordPress.com, WooCommerce, and other Automattic products.</p><p>Requirements:</p><ul><li>Portfolio demonstrating UX/UI design skills</li><li>Experience with Figma or Sketch</li><li>Understanding of web accessibility standards</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-2',\r\n        tags: ['Design', 'UX', 'UI', 'Figma']\r\n      },\r\n      {\r\n        id: 'wwr-3',\r\n        title: 'Shopify: Senior Backend Engineer (Ruby)',\r\n        company: 'Shopify',\r\n        logo: 'https://logo.clearbit.com/shopify.com',\r\n        location: 'Remote - Americas',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-18T09:45:00Z',\r\n        views: 312,\r\n        applicants: 27,\r\n        description: '<p>Build and scale the infrastructure that powers millions of online stores worldwide.</p><p>Requirements:</p><ul><li>5+ years of experience with Ruby/Rails</li><li>Experience with high-traffic applications</li><li>Knowledge of database optimization</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-3',\r\n        tags: ['Ruby', 'Rails', 'Backend']\r\n      },\r\n      {\r\n        id: 'wwr-4',\r\n        title: 'GitLab: DevOps Engineer',\r\n        company: 'GitLab',\r\n        logo: 'https://logo.clearbit.com/gitlab.com',\r\n        location: 'Remote - Worldwide',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-14T11:20:00Z',\r\n        views: 278,\r\n        applicants: 31,\r\n        description: '<p>Join the world\\'s largest all-remote company to help scale our infrastructure and improve our DevOps practices.</p><p>Requirements:</p><ul><li>Experience with Kubernetes and container orchestration</li><li>Knowledge of infrastructure as code (Terraform, Ansible)</li><li>Experience with CI/CD pipelines</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-4',\r\n        tags: ['DevOps', 'Kubernetes', 'CI/CD']\r\n      },\r\n      {\r\n        id: 'wwr-5',\r\n        title: 'Buffer: Product Manager',\r\n        company: 'Buffer',\r\n        logo: 'https://logo.clearbit.com/buffer.com',\r\n        location: 'Remote - Global',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-17T13:10:00Z',\r\n        views: 203,\r\n        applicants: 42,\r\n        description: '<p>Lead product development for Buffer\\'s social media management platform used by millions worldwide.</p><p>Requirements:</p><ul><li>3+ years of product management experience</li><li>Experience with agile methodologies</li><li>Strong analytical and problem-solving skills</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-5',\r\n        tags: ['Product', 'Management', 'Agile']\r\n      },\r\n      {\r\n        id: 'wwr-6',\r\n        title: 'Zapier: Full Stack Engineer',\r\n        company: 'Zapier',\r\n        logo: 'https://logo.clearbit.com/zapier.com',\r\n        location: 'Remote - Worldwide',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-16T08:30:00Z',\r\n        views: 342,\r\n        applicants: 29,\r\n        description: '<p>Build features across the entire stack to help our users automate their work.</p><p>Requirements:</p><ul><li>Experience with JavaScript/TypeScript</li><li>Experience with Python or Node.js</li><li>Knowledge of React or similar frontend frameworks</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-6',\r\n        tags: ['JavaScript', 'Python', 'React']\r\n      },\r\n      {\r\n        id: 'wwr-7',\r\n        title: 'Basecamp: Rails Programmer',\r\n        company: 'Basecamp',\r\n        logo: 'https://logo.clearbit.com/basecamp.com',\r\n        location: 'Remote - Worldwide',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-15T15:45:00Z',\r\n        views: 387,\r\n        applicants: 41,\r\n        description: '<p>Join our team to work on Basecamp and HEY using Ruby on Rails.</p><p>Requirements:</p><ul><li>Experience with Ruby on Rails</li><li>Strong understanding of web fundamentals</li><li>Excellent written communication skills</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-7',\r\n        tags: ['Ruby', 'Rails', 'Backend']\r\n      },\r\n      {\r\n        id: 'wwr-8',\r\n        title: 'InVision: Senior Product Designer',\r\n        company: 'InVision',\r\n        logo: 'https://logo.clearbit.com/invisionapp.com',\r\n        location: 'Remote - Americas',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-18T10:20:00Z',\r\n        views: 312,\r\n        applicants: 27,\r\n        description: '<p>Design digital products that are used by millions of designers and developers.</p><p>Requirements:</p><ul><li>5+ years of product design experience</li><li>Experience with design systems</li><li>Strong portfolio showcasing UX/UI work</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-8',\r\n        tags: ['Design', 'UX', 'UI']\r\n      },\r\n      {\r\n        id: 'wwr-9',\r\n        title: 'Toptal: Technical Editor',\r\n        company: 'Toptal',\r\n        logo: 'https://logo.clearbit.com/toptal.com',\r\n        location: 'Remote - Global',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-13T09:15:00Z',\r\n        views: 245,\r\n        applicants: 19,\r\n        description: '<p>Edit and review technical content for our engineering blog.</p><p>Requirements:</p><ul><li>Strong technical background</li><li>Excellent editing and writing skills</li><li>Experience with technical content creation</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-9',\r\n        tags: ['Content', 'Editing', 'Technical Writing']\r\n      },\r\n      {\r\n        id: 'wwr-10',\r\n        title: 'Auth0: Security Engineer',\r\n        company: 'Auth0',\r\n        logo: 'https://logo.clearbit.com/auth0.com',\r\n        location: 'Remote - Americas',\r\n        job_type: 'Full-time',\r\n        pubDate: '2023-07-16T14:30:00Z',\r\n        views: 289,\r\n        applicants: 31,\r\n        description: '<p>Help us build and maintain secure authentication and authorization systems.</p><p>Requirements:</p><ul><li>Experience with application security</li><li>Knowledge of OAuth and OpenID Connect</li><li>Experience with security assessments</li></ul>',\r\n        url: 'https://weworkremotely.com/jobs/wwr-10',\r\n        tags: ['Security', 'OAuth', 'Authentication']\r\n      }\r\n    ];\r\n    \r\n    // 如果有搜索词，过滤结果\r\n    if (searchTerm) {\r\n      return allJobs.filter(job => \r\n        job.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        job.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        job.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      );\r\n    }\r\n    \r\n    // 如果有类别筛选\r\n    if (category && category !== 'all') {\r\n      const categoryKeywords = {\r\n        'programming': ['developer', 'engineer', 'programmer', 'coding', 'software'],\r\n        'design': ['designer', 'design', 'ui', 'ux', 'graphic'],\r\n        'marketing': ['marketing', 'growth', 'seo', 'content'],\r\n        'management': ['manager', 'director', 'executive', 'lead'],\r\n        'sales': ['sales', 'account', 'business development'],\r\n        'customer-support': ['support', 'customer', 'service']\r\n      };\r\n      \r\n      const keywords = categoryKeywords[category] || [];\r\n      \r\n      return allJobs.filter(job => \r\n        keywords.some(keyword => \r\n          job.title.toLowerCase().includes(keyword) || \r\n          job.description.toLowerCase().includes(keyword) ||\r\n          job.tags.some(tag => tag.toLowerCase().includes(keyword))\r\n        )\r\n      );\r\n    }\r\n    \r\n    return allJobs;\r\n  }\r\n\r\n  /**\r\n   * 获取模拟的工作详情\r\n   * @param {string} jobId - 工作ID\r\n   * @returns {Object} - 工作详情\r\n   */\r\n  getMockJobDetails(jobId) {\r\n    // 查找基本工作信息\r\n    const allJobs = this.getMockWWRJobs();\r\n    const job = allJobs.find(job => job.id === jobId);\r\n    \r\n    if (!job) {\r\n      throw new Error(`Job with ID ${jobId} not found`);\r\n    }\r\n    \r\n    // 添加详细信息\r\n    return {\r\n      ...job,\r\n      company_description: `${job.company} is a leading company in its field, known for innovation and a great remote work culture. We offer competitive benefits and a supportive team environment.`,\r\n      benefits: [\r\n        'Competitive salary',\r\n        'Flexible working hours',\r\n        'Home office stipend',\r\n        'Health insurance',\r\n        'Annual team retreats',\r\n        'Professional development budget'\r\n      ]\r\n    };\r\n  }\r\n}\r\n\r\nexport default WWRApiAdapter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}