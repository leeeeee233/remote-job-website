{"ast":null,"code":"// 使用真实的Job API服务\n// 这里集成一些公开的工作API\n\nimport logoService from './logoService';\n\n// RemoteOK API (免费，无需API密钥)\nexport const fetchRemoteOKJobs = async () => {\n  try {\n    console.log('🔄 尝试获取RemoteOK工作数据...');\n\n    // 尝试多个CORS代理，提高成功率\n    const corsProxies = ['https://api.allorigins.win/get?url=', 'https://api.codetabs.com/v1/proxy?quest=', 'https://cors-anywhere.herokuapp.com/'];\n    const remoteOkUrl = 'https://remoteok.io/api';\n    let data = null;\n    let lastError = null;\n\n    // 尝试不同的代理\n    for (const corsProxy of corsProxies) {\n      try {\n        console.log(`🔗 尝试使用代理: ${corsProxy}`);\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 5000); // 5秒超时\n\n        let fetchUrl = `${corsProxy}${encodeURIComponent(remoteOkUrl)}`;\n        const response = await fetch(fetchUrl, {\n          headers: {\n            'Accept': 'application/json'\n          },\n          signal: controller.signal\n        });\n        clearTimeout(timeoutId);\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        let responseData = await response.json();\n\n        // 处理allorigins的响应格式\n        if (corsProxy.includes('allorigins') && responseData.contents) {\n          data = JSON.parse(responseData.contents);\n        } else {\n          data = responseData;\n        }\n        if (data && Array.isArray(data) && data.length > 0) {\n          console.log('✅ 成功获取RemoteOK数据，工作数量:', data.length);\n          break; // 成功获取数据，跳出循环\n        } else {\n          throw new Error('返回的数据格式不正确或为空');\n        }\n      } catch (error) {\n        console.warn(`❌ 代理 ${corsProxy} 失败:`, error.message);\n        lastError = error;\n        continue; // 尝试下一个代理\n      }\n    }\n\n    // 如果所有代理都失败，返回一些基本的示例数据以确保网站可用\n    if (!data) {\n      console.warn('⚠️ 所有API都失败，返回示例数据');\n      return await generateSampleJobs();\n    }\n\n    // RemoteOK返回的第一个元素是统计信息，需要跳过\n    const jobs = data.slice(1);\n    return Promise.all(jobs.map(async job => ({\n      id: job.id,\n      title: job.position,\n      company: job.company,\n      companyLogo: await logoService.getCompanyLogo(job.company, job.company_logo),\n      location: job.location || 'Remote',\n      type: job.job_type || 'Full-time',\n      salary: estimateSalary(job.position),\n      team: extractTeam(job.position),\n      postedDate: formatDate(job.date),\n      views: Math.floor(Math.random() * 500) + 50,\n      applicants: Math.floor(Math.random() * 50) + 5,\n      description: job.description || 'No description available',\n      skills: extractSkills(job.tags || []),\n      source: 'RemoteOK',\n      sourceUrl: job.url || `https://remoteok.io/l/${job.id}`,\n      sourceId: job.id\n    })));\n  } catch (error) {\n    console.error('Error fetching RemoteOK jobs:', error);\n    // 如果API调用失败，返回空数组\n    return [];\n  }\n};\n\n// GitHub Jobs API (通过公共API代理)\nexport const fetchGitHubJobs = async () => {\n  try {\n    const response = await fetch('https://jobs.github.com/positions.json');\n    if (!response.ok) {\n      throw new Error(`Failed to fetch GitHub jobs: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.map(job => ({\n      id: job.id,\n      title: job.title,\n      company: job.company,\n      companyLogo: job.company_logo,\n      location: job.location || 'Remote',\n      type: job.type || 'Full-time',\n      salary: estimateSalary(job.title),\n      team: extractTeam(job.title),\n      postedDate: formatDate(job.created_at),\n      views: Math.floor(Math.random() * 500) + 50,\n      applicants: Math.floor(Math.random() * 50) + 5,\n      description: job.description || 'No description available',\n      skills: extractSkills(job.description || ''),\n      source: 'GitHub Jobs'\n    }));\n  } catch (error) {\n    console.error('Error fetching GitHub jobs:', error);\n    return [];\n  }\n};\n\n// WeWorkRemotely API (通过RSS2JSON)\nexport const fetchWeWorkRemotelyJobs = async (category = 'all') => {\n  try {\n    console.log('🔄 尝试获取WeWorkRemotely工作数据...');\n\n    // 获取RSS feed URL\n    const categoryPath = {\n      'programming': 'remote-jobs/remote-programming-jobs',\n      'design': 'remote-jobs/remote-design-jobs',\n      'marketing': 'remote-jobs/remote-marketing-jobs',\n      'management': 'remote-jobs/remote-management-executive-jobs',\n      'sales': 'remote-jobs/remote-sales-jobs',\n      'customer-support': 'remote-jobs/remote-customer-support-jobs',\n      'all': 'categories/remote-jobs'\n    }[category] || 'categories/remote-jobs';\n    const rssUrl = `https://weworkremotely.com/${categoryPath}.rss`;\n\n    // 尝试多个RSS2JSON服务\n    const rss2jsonServices = [`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`, `https://api.allorigins.win/get?url=${encodeURIComponent(rssUrl)}`];\n    let data = null;\n    let lastError = null;\n    for (const serviceUrl of rss2jsonServices) {\n      try {\n        var _data$items;\n        console.log(`🔗 尝试RSS服务: ${serviceUrl.includes('rss2json') ? 'RSS2JSON' : 'AllOrigins'}`);\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 8000);\n        const response = await fetch(serviceUrl, {\n          signal: controller.signal\n        });\n        clearTimeout(timeoutId);\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        const responseData = await response.json();\n\n        // 处理不同服务的响应格式\n        if (serviceUrl.includes('rss2json')) {\n          if (responseData.status !== 'ok') {\n            throw new Error('Invalid response from RSS2JSON');\n          }\n          data = responseData;\n        } else {\n          // AllOrigins返回的是原始RSS内容，需要解析\n          // 这里简化处理，如果需要可以添加XML解析\n          throw new Error('AllOrigins RSS parsing not implemented');\n        }\n        console.log('✅ 成功获取WeWorkRemotely数据，工作数量:', ((_data$items = data.items) === null || _data$items === void 0 ? void 0 : _data$items.length) || 0);\n        break;\n      } catch (error) {\n        console.warn(`❌ RSS服务失败:`, error.message);\n        lastError = error;\n        continue;\n      }\n    }\n    if (!data) {\n      throw lastError || new Error('所有RSS服务都失败了');\n    }\n    return Promise.all(data.items.map(async (item, index) => {\n      // 从标题中提取公司名称和职位\n      const titleMatch = item.title.match(/(.*?):(.*)/);\n      const company = titleMatch ? titleMatch[1].trim() : 'Unknown Company';\n      const title = titleMatch ? titleMatch[2].trim() : item.title;\n      return {\n        id: `wwr-${index}-${Date.now()}`,\n        title: title,\n        company: company,\n        companyLogo: await logoService.getCompanyLogo(company),\n        location: 'Remote',\n        type: 'Full-time',\n        salary: estimateSalary(title),\n        team: extractTeam(title),\n        postedDate: formatDate(item.pubDate),\n        views: Math.floor(Math.random() * 500) + 50,\n        applicants: Math.floor(Math.random() * 50) + 5,\n        description: item.description || item.content || 'No description available',\n        skills: extractSkills(item.description || item.content || title),\n        source: 'WeWorkRemotely',\n        sourceUrl: item.link,\n        sourceId: `wwr-${index}-${Date.now()}`\n      };\n    }));\n  } catch (error) {\n    console.error('Error fetching WeWorkRemotely jobs:', error);\n    return [];\n  }\n};\n\n// 辅助函数\nconst formatDate = dateString => {\n  if (!dateString) return 'Recently';\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffTime = Math.abs(now - date);\n  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n  if (diffDays === 0) return 'Today';\n  if (diffDays === 1) return 'Yesterday';\n  if (diffDays <= 7) return `${diffDays} days ago`;\n  if (diffDays <= 30) return `${Math.ceil(diffDays / 7)} weeks ago`;\n  return `${Math.ceil(diffDays / 30)} months ago`;\n};\nconst extractSkills = description => {\n  const commonSkills = ['JavaScript', 'Python', 'React', 'Node.js', 'TypeScript', 'Angular', 'Vue.js', 'Java', 'C#', '.NET', 'MongoDB', 'PostgreSQL', 'MySQL', 'AWS', 'Azure', 'Docker', 'Kubernetes', 'CI/CD', 'DevOps', 'Git', 'Linux', 'Figma', 'Sketch', 'Adobe XD', 'UI/UX', 'CSS', 'HTML', 'REST API', 'GraphQL'];\n  const foundSkills = commonSkills.filter(skill => typeof description === 'string' && description.toLowerCase().includes(skill.toLowerCase()));\n  return foundSkills.length > 0 ? foundSkills.slice(0, 5) : ['Remote Work'];\n};\nconst extractTeam = title => {\n  const teams = {\n    'Frontend': ['Frontend', 'Front-end', 'Front End', 'UI', 'React', 'Angular', 'Vue', 'JavaScript'],\n    'UX/UI': ['UX', 'UI', 'User Experience', 'User Interface', 'Designer', 'Design'],\n    'Backend': ['Backend', 'Back-end', 'Back End', 'API', 'Server', 'Java', 'Python', 'Ruby', 'PHP', 'Node'],\n    'Full Stack': ['Full Stack', 'Fullstack', 'Full-stack'],\n    'DevOps': ['DevOps', 'SRE', 'Infrastructure', 'Cloud', 'AWS', 'Azure', 'GCP', 'Kubernetes', 'Docker'],\n    'Mobile': ['Mobile', 'iOS', 'Android', 'React Native', 'Flutter', 'Swift', 'Kotlin'],\n    'Data': ['Data', 'Analytics', 'Machine Learning', 'AI', 'ML', 'Data Science', 'Big Data'],\n    'Product': ['Product', 'PM', 'Product Manager', 'Product Owner'],\n    'QA': ['QA', 'Test', 'Testing', 'Quality'],\n    'Security': ['Security', 'Cyber', 'InfoSec']\n  };\n  for (const [team, keywords] of Object.entries(teams)) {\n    if (keywords.some(keyword => title.includes(keyword))) {\n      return team;\n    }\n  }\n  return 'Engineering';\n};\nconst estimateSalary = title => {\n  // 基于职位名称估算薪资范围\n  const seniorKeywords = ['Senior', 'Sr', 'Lead', 'Principal', 'Staff', 'Architect'];\n  const midKeywords = ['II', '2', 'Mid', 'Intermediate'];\n  const juniorKeywords = ['Junior', 'Jr', 'Entry', 'Associate', 'Intern'];\n  const isSenior = seniorKeywords.some(key => title.includes(key));\n  const isMid = midKeywords.some(key => title.includes(key));\n  const isJunior = juniorKeywords.some(key => title.includes(key));\n\n  // 基础薪资范围\n  let baseSalary;\n  if (title.includes('Manager') || title.includes('Director')) {\n    baseSalary = 130;\n  } else if (title.includes('Architect') || title.includes('Principal')) {\n    baseSalary = 140;\n  } else if (title.includes('DevOps') || title.includes('SRE')) {\n    baseSalary = 125;\n  } else if (title.includes('Data') || title.includes('Machine Learning')) {\n    baseSalary = 110;\n  } else if (title.includes('UI') || title.includes('UX') || title.includes('Design')) {\n    baseSalary = 115;\n  } else if (title.includes('Mobile') || title.includes('iOS') || title.includes('Android')) {\n    baseSalary = 120;\n  } else {\n    baseSalary = 100;\n  }\n\n  // 根据级别调整薪资\n  if (isSenior) {\n    return baseSalary + 20;\n  } else if (isMid) {\n    return baseSalary;\n  } else if (isJunior) {\n    return baseSalary - 30;\n  } else {\n    return baseSalary;\n  }\n};\n\n// 综合获取真实工作数据\nexport const fetchRealRemoteJobs = async (searchTerm = '', filters = {}) => {\n  try {\n    // 并行调用多个API\n    const [remoteOKJobs, githubJobs, wwrJobs] = await Promise.allSettled([fetchRemoteOKJobs(), fetchGitHubJobs(), fetchWeWorkRemotelyJobs(filters.category)]);\n    let allJobs = [...(remoteOKJobs.status === 'fulfilled' ? remoteOKJobs.value : []), ...(githubJobs.status === 'fulfilled' ? githubJobs.value : []), ...(wwrJobs.status === 'fulfilled' ? wwrJobs.value : [])];\n\n    // 如果所有API都失败，返回空数组\n    if (allJobs.length === 0) {\n      throw new Error('Failed to fetch jobs from any source');\n    }\n\n    // 按搜索词过滤\n    if (searchTerm) {\n      allJobs = allJobs.filter(job => job.title.toLowerCase().includes(searchTerm.toLowerCase()) || job.company.toLowerCase().includes(searchTerm.toLowerCase()) || job.description.toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n\n    // 去重和排序\n    const uniqueJobs = removeDuplicateJobs(allJobs);\n    const sortedJobs = uniqueJobs.sort((a, b) => {\n      // 优先显示今天发布的工作\n      if (a.postedDate === 'Today' && b.postedDate !== 'Today') return -1;\n      if (a.postedDate !== 'Today' && b.postedDate === 'Today') return 1;\n      return 0;\n    });\n    return {\n      jobs: sortedJobs,\n      total: sortedJobs.length,\n      sources: ['RemoteOK', 'WeWorkRemotely', 'GitHub Jobs'].filter(source => allJobs.some(job => job.source === source))\n    };\n  } catch (error) {\n    console.error('Error fetching real remote jobs:', error);\n    throw error;\n  }\n};\n\n// 生成示例工作数据（当所有API都失败时使用）\nconst generateSampleJobs = async () => {\n  console.log('🔄 生成示例工作数据...');\n  const sampleJobs = [{\n    id: 'sample-1',\n    title: 'Senior Frontend Developer',\n    company: 'TechCorp',\n    companyLogo: 'https://logo.clearbit.com/techcorp.com',\n    location: 'Remote - Global',\n    type: 'Full-time',\n    salary: 120,\n    team: 'Frontend',\n    postedDate: 'Today',\n    views: 156,\n    applicants: 12,\n    description: 'We are looking for a Senior Frontend Developer to join our remote team. You will work on building modern web applications using React and TypeScript.',\n    skills: ['React', 'TypeScript', 'JavaScript', 'CSS', 'HTML'],\n    source: 'Sample Data',\n    sourceUrl: 'https://example.com/jobs/1',\n    sourceId: 'sample-1'\n  }, {\n    id: 'sample-2',\n    title: 'Backend Engineer',\n    company: 'DataFlow Inc',\n    companyLogo: 'https://logo.clearbit.com/dataflow.com',\n    location: 'Remote - US',\n    type: 'Full-time',\n    salary: 115,\n    team: 'Backend',\n    postedDate: 'Yesterday',\n    views: 89,\n    applicants: 8,\n    description: 'Join our backend team to build scalable APIs and microservices. Experience with Node.js and cloud platforms required.',\n    skills: ['Node.js', 'Python', 'AWS', 'MongoDB', 'Docker'],\n    source: 'Sample Data',\n    sourceUrl: 'https://example.com/jobs/2',\n    sourceId: 'sample-2'\n  }, {\n    id: 'sample-3',\n    title: 'UX Designer',\n    company: 'DesignStudio',\n    companyLogo: 'https://logo.clearbit.com/designstudio.com',\n    location: 'Remote - Europe',\n    type: 'Full-time',\n    salary: 95,\n    team: 'UX/UI',\n    postedDate: '2 days ago',\n    views: 234,\n    applicants: 15,\n    description: 'We need a talented UX Designer to create intuitive user experiences for our digital products. Remote-first company with flexible hours.',\n    skills: ['Figma', 'Sketch', 'User Research', 'Prototyping', 'UI/UX'],\n    source: 'Sample Data',\n    sourceUrl: 'https://example.com/jobs/3',\n    sourceId: 'sample-3'\n  }];\n  return sampleJobs;\n};\n\n// 去重函数\nconst removeDuplicateJobs = jobs => {\n  const seen = new Set();\n  return jobs.filter(job => {\n    const key = `${job.title}-${job.company}`.toLowerCase().replace(/\\s+/g, '');\n    if (seen.has(key)) {\n      return false;\n    }\n    seen.add(key);\n    return true;\n  });\n};\nexport default {\n  fetchRealRemoteJobs,\n  fetchRemoteOKJobs,\n  fetchGitHubJobs,\n  fetchWeWorkRemotelyJobs\n};","map":{"version":3,"names":["logoService","fetchRemoteOKJobs","console","log","corsProxies","remoteOkUrl","data","lastError","corsProxy","controller","AbortController","timeoutId","setTimeout","abort","fetchUrl","encodeURIComponent","response","fetch","headers","signal","clearTimeout","ok","Error","status","statusText","responseData","json","includes","contents","JSON","parse","Array","isArray","length","error","warn","message","generateSampleJobs","jobs","slice","Promise","all","map","job","id","title","position","company","companyLogo","getCompanyLogo","company_logo","location","type","job_type","salary","estimateSalary","team","extractTeam","postedDate","formatDate","date","views","Math","floor","random","applicants","description","skills","extractSkills","tags","source","sourceUrl","url","sourceId","fetchGitHubJobs","created_at","fetchWeWorkRemotelyJobs","category","categoryPath","rssUrl","rss2jsonServices","serviceUrl","_data$items","items","item","index","titleMatch","match","trim","Date","now","pubDate","content","link","dateString","diffTime","abs","diffDays","ceil","commonSkills","foundSkills","filter","skill","toLowerCase","teams","keywords","Object","entries","some","keyword","seniorKeywords","midKeywords","juniorKeywords","isSenior","key","isMid","isJunior","baseSalary","fetchRealRemoteJobs","searchTerm","filters","remoteOKJobs","githubJobs","wwrJobs","allSettled","allJobs","value","uniqueJobs","removeDuplicateJobs","sortedJobs","sort","a","b","total","sources","sampleJobs","seen","Set","replace","has","add"],"sources":["D:/Kiro/remote-job-website/src/services/realJobAPI.js"],"sourcesContent":["// 使用真实的Job API服务\r\n// 这里集成一些公开的工作API\r\n\r\nimport logoService from './logoService';\r\n\r\n// RemoteOK API (免费，无需API密钥)\r\nexport const fetchRemoteOKJobs = async () => {\r\n  try {\r\n    console.log('🔄 尝试获取RemoteOK工作数据...');\r\n    \r\n    // 尝试多个CORS代理，提高成功率\r\n    const corsProxies = [\r\n      'https://api.allorigins.win/get?url=',\r\n      'https://api.codetabs.com/v1/proxy?quest=',\r\n      'https://cors-anywhere.herokuapp.com/'\r\n    ];\r\n    \r\n    const remoteOkUrl = 'https://remoteok.io/api';\r\n    let data = null;\r\n    let lastError = null;\r\n    \r\n    // 尝试不同的代理\r\n    for (const corsProxy of corsProxies) {\r\n      try {\r\n        console.log(`🔗 尝试使用代理: ${corsProxy}`);\r\n        \r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 5000); // 5秒超时\r\n        \r\n        let fetchUrl = `${corsProxy}${encodeURIComponent(remoteOkUrl)}`;\r\n        \r\n        const response = await fetch(fetchUrl, {\r\n          headers: {\r\n            'Accept': 'application/json',\r\n          },\r\n          signal: controller.signal\r\n        });\r\n        \r\n        clearTimeout(timeoutId);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        let responseData = await response.json();\r\n        \r\n        // 处理allorigins的响应格式\r\n        if (corsProxy.includes('allorigins') && responseData.contents) {\r\n          data = JSON.parse(responseData.contents);\r\n        } else {\r\n          data = responseData;\r\n        }\r\n        \r\n        if (data && Array.isArray(data) && data.length > 0) {\r\n          console.log('✅ 成功获取RemoteOK数据，工作数量:', data.length);\r\n          break; // 成功获取数据，跳出循环\r\n        } else {\r\n          throw new Error('返回的数据格式不正确或为空');\r\n        }\r\n      } catch (error) {\r\n        console.warn(`❌ 代理 ${corsProxy} 失败:`, error.message);\r\n        lastError = error;\r\n        continue; // 尝试下一个代理\r\n      }\r\n    }\r\n    \r\n    // 如果所有代理都失败，返回一些基本的示例数据以确保网站可用\r\n    if (!data) {\r\n      console.warn('⚠️ 所有API都失败，返回示例数据');\r\n      return await generateSampleJobs();\r\n    }\r\n    \r\n    // RemoteOK返回的第一个元素是统计信息，需要跳过\r\n    const jobs = data.slice(1);\r\n    \r\n    return Promise.all(jobs.map(async job => ({\r\n      id: job.id,\r\n      title: job.position,\r\n      company: job.company,\r\n      companyLogo: await logoService.getCompanyLogo(job.company, job.company_logo),\r\n      location: job.location || 'Remote',\r\n      type: job.job_type || 'Full-time',\r\n      salary: estimateSalary(job.position),\r\n      team: extractTeam(job.position),\r\n      postedDate: formatDate(job.date),\r\n      views: Math.floor(Math.random() * 500) + 50,\r\n      applicants: Math.floor(Math.random() * 50) + 5,\r\n      description: job.description || 'No description available',\r\n      skills: extractSkills(job.tags || []),\r\n      source: 'RemoteOK',\r\n      sourceUrl: job.url || `https://remoteok.io/l/${job.id}`,\r\n      sourceId: job.id\r\n    })));\r\n  } catch (error) {\r\n    console.error('Error fetching RemoteOK jobs:', error);\r\n    // 如果API调用失败，返回空数组\r\n    return [];\r\n  }\r\n};\r\n\r\n// GitHub Jobs API (通过公共API代理)\r\nexport const fetchGitHubJobs = async () => {\r\n  try {\r\n    const response = await fetch('https://jobs.github.com/positions.json');\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`Failed to fetch GitHub jobs: ${response.status}`);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    \r\n    return data.map(job => ({\r\n      id: job.id,\r\n      title: job.title,\r\n      company: job.company,\r\n      companyLogo: job.company_logo,\r\n      location: job.location || 'Remote',\r\n      type: job.type || 'Full-time',\r\n      salary: estimateSalary(job.title),\r\n      team: extractTeam(job.title),\r\n      postedDate: formatDate(job.created_at),\r\n      views: Math.floor(Math.random() * 500) + 50,\r\n      applicants: Math.floor(Math.random() * 50) + 5,\r\n      description: job.description || 'No description available',\r\n      skills: extractSkills(job.description || ''),\r\n      source: 'GitHub Jobs'\r\n    }));\r\n  } catch (error) {\r\n    console.error('Error fetching GitHub jobs:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// WeWorkRemotely API (通过RSS2JSON)\r\nexport const fetchWeWorkRemotelyJobs = async (category = 'all') => {\r\n  try {\r\n    console.log('🔄 尝试获取WeWorkRemotely工作数据...');\r\n    \r\n    // 获取RSS feed URL\r\n    const categoryPath = {\r\n      'programming': 'remote-jobs/remote-programming-jobs',\r\n      'design': 'remote-jobs/remote-design-jobs',\r\n      'marketing': 'remote-jobs/remote-marketing-jobs',\r\n      'management': 'remote-jobs/remote-management-executive-jobs',\r\n      'sales': 'remote-jobs/remote-sales-jobs',\r\n      'customer-support': 'remote-jobs/remote-customer-support-jobs',\r\n      'all': 'categories/remote-jobs'\r\n    }[category] || 'categories/remote-jobs';\r\n    \r\n    const rssUrl = `https://weworkremotely.com/${categoryPath}.rss`;\r\n    \r\n    // 尝试多个RSS2JSON服务\r\n    const rss2jsonServices = [\r\n      `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`,\r\n      `https://api.allorigins.win/get?url=${encodeURIComponent(rssUrl)}`\r\n    ];\r\n    \r\n    let data = null;\r\n    let lastError = null;\r\n    \r\n    for (const serviceUrl of rss2jsonServices) {\r\n      try {\r\n        console.log(`🔗 尝试RSS服务: ${serviceUrl.includes('rss2json') ? 'RSS2JSON' : 'AllOrigins'}`);\r\n        \r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 8000);\r\n        \r\n        const response = await fetch(serviceUrl, {\r\n          signal: controller.signal\r\n        });\r\n        \r\n        clearTimeout(timeoutId);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        const responseData = await response.json();\r\n        \r\n        // 处理不同服务的响应格式\r\n        if (serviceUrl.includes('rss2json')) {\r\n          if (responseData.status !== 'ok') {\r\n            throw new Error('Invalid response from RSS2JSON');\r\n          }\r\n          data = responseData;\r\n        } else {\r\n          // AllOrigins返回的是原始RSS内容，需要解析\r\n          // 这里简化处理，如果需要可以添加XML解析\r\n          throw new Error('AllOrigins RSS parsing not implemented');\r\n        }\r\n        \r\n        console.log('✅ 成功获取WeWorkRemotely数据，工作数量:', data.items?.length || 0);\r\n        break;\r\n      } catch (error) {\r\n        console.warn(`❌ RSS服务失败:`, error.message);\r\n        lastError = error;\r\n        continue;\r\n      }\r\n    }\r\n    \r\n    if (!data) {\r\n      throw lastError || new Error('所有RSS服务都失败了');\r\n    }\r\n    \r\n    return Promise.all(data.items.map(async (item, index) => {\r\n      // 从标题中提取公司名称和职位\r\n      const titleMatch = item.title.match(/(.*?):(.*)/);\r\n      const company = titleMatch ? titleMatch[1].trim() : 'Unknown Company';\r\n      const title = titleMatch ? titleMatch[2].trim() : item.title;\r\n      \r\n      return {\r\n        id: `wwr-${index}-${Date.now()}`,\r\n        title: title,\r\n        company: company,\r\n        companyLogo: await logoService.getCompanyLogo(company),\r\n        location: 'Remote',\r\n        type: 'Full-time',\r\n        salary: estimateSalary(title),\r\n        team: extractTeam(title),\r\n        postedDate: formatDate(item.pubDate),\r\n        views: Math.floor(Math.random() * 500) + 50,\r\n        applicants: Math.floor(Math.random() * 50) + 5,\r\n        description: item.description || item.content || 'No description available',\r\n        skills: extractSkills(item.description || item.content || title),\r\n        source: 'WeWorkRemotely',\r\n        sourceUrl: item.link,\r\n        sourceId: `wwr-${index}-${Date.now()}`\r\n      };\r\n    }));\r\n  } catch (error) {\r\n    console.error('Error fetching WeWorkRemotely jobs:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// 辅助函数\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return 'Recently';\r\n  \r\n  const date = new Date(dateString);\r\n  const now = new Date();\r\n  const diffTime = Math.abs(now - date);\r\n  const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n  if (diffDays === 0) return 'Today';\r\n  if (diffDays === 1) return 'Yesterday';\r\n  if (diffDays <= 7) return `${diffDays} days ago`;\r\n  if (diffDays <= 30) return `${Math.ceil(diffDays / 7)} weeks ago`;\r\n  return `${Math.ceil(diffDays / 30)} months ago`;\r\n};\r\n\r\nconst extractSkills = (description) => {\r\n  const commonSkills = [\r\n    'JavaScript', 'Python', 'React', 'Node.js', 'TypeScript', 'Angular', 'Vue.js', 'Java', 'C#', '.NET',\r\n    'MongoDB', 'PostgreSQL', 'MySQL', 'AWS', 'Azure', 'Docker', 'Kubernetes', 'CI/CD', 'DevOps',\r\n    'Git', 'Linux', 'Figma', 'Sketch', 'Adobe XD', 'UI/UX', 'CSS', 'HTML', 'REST API', 'GraphQL'\r\n  ];\r\n\r\n  const foundSkills = commonSkills.filter(skill => \r\n    typeof description === 'string' && description.toLowerCase().includes(skill.toLowerCase())\r\n  );\r\n  \r\n  return foundSkills.length > 0 ? foundSkills.slice(0, 5) : ['Remote Work'];\r\n};\r\n\r\nconst extractTeam = (title) => {\r\n  const teams = {\r\n    'Frontend': ['Frontend', 'Front-end', 'Front End', 'UI', 'React', 'Angular', 'Vue', 'JavaScript'],\r\n    'UX/UI': ['UX', 'UI', 'User Experience', 'User Interface', 'Designer', 'Design'],\r\n    'Backend': ['Backend', 'Back-end', 'Back End', 'API', 'Server', 'Java', 'Python', 'Ruby', 'PHP', 'Node'],\r\n    'Full Stack': ['Full Stack', 'Fullstack', 'Full-stack'],\r\n    'DevOps': ['DevOps', 'SRE', 'Infrastructure', 'Cloud', 'AWS', 'Azure', 'GCP', 'Kubernetes', 'Docker'],\r\n    'Mobile': ['Mobile', 'iOS', 'Android', 'React Native', 'Flutter', 'Swift', 'Kotlin'],\r\n    'Data': ['Data', 'Analytics', 'Machine Learning', 'AI', 'ML', 'Data Science', 'Big Data'],\r\n    'Product': ['Product', 'PM', 'Product Manager', 'Product Owner'],\r\n    'QA': ['QA', 'Test', 'Testing', 'Quality'],\r\n    'Security': ['Security', 'Cyber', 'InfoSec']\r\n  };\r\n  \r\n  for (const [team, keywords] of Object.entries(teams)) {\r\n    if (keywords.some(keyword => title.includes(keyword))) {\r\n      return team;\r\n    }\r\n  }\r\n  \r\n  return 'Engineering';\r\n};\r\n\r\nconst estimateSalary = (title) => {\r\n  // 基于职位名称估算薪资范围\r\n  const seniorKeywords = ['Senior', 'Sr', 'Lead', 'Principal', 'Staff', 'Architect'];\r\n  const midKeywords = ['II', '2', 'Mid', 'Intermediate'];\r\n  const juniorKeywords = ['Junior', 'Jr', 'Entry', 'Associate', 'Intern'];\r\n  \r\n  const isSenior = seniorKeywords.some(key => title.includes(key));\r\n  const isMid = midKeywords.some(key => title.includes(key));\r\n  const isJunior = juniorKeywords.some(key => title.includes(key));\r\n  \r\n  // 基础薪资范围\r\n  let baseSalary;\r\n  if (title.includes('Manager') || title.includes('Director')) {\r\n    baseSalary = 130;\r\n  } else if (title.includes('Architect') || title.includes('Principal')) {\r\n    baseSalary = 140;\r\n  } else if (title.includes('DevOps') || title.includes('SRE')) {\r\n    baseSalary = 125;\r\n  } else if (title.includes('Data') || title.includes('Machine Learning')) {\r\n    baseSalary = 110;\r\n  } else if (title.includes('UI') || title.includes('UX') || title.includes('Design')) {\r\n    baseSalary = 115;\r\n  } else if (title.includes('Mobile') || title.includes('iOS') || title.includes('Android')) {\r\n    baseSalary = 120;\r\n  } else {\r\n    baseSalary = 100;\r\n  }\r\n  \r\n  // 根据级别调整薪资\r\n  if (isSenior) {\r\n    return baseSalary + 20;\r\n  } else if (isMid) {\r\n    return baseSalary;\r\n  } else if (isJunior) {\r\n    return baseSalary - 30;\r\n  } else {\r\n    return baseSalary;\r\n  }\r\n};\r\n\r\n// 综合获取真实工作数据\r\nexport const fetchRealRemoteJobs = async (searchTerm = '', filters = {}) => {\r\n  try {\r\n    // 并行调用多个API\r\n    const [remoteOKJobs, githubJobs, wwrJobs] = await Promise.allSettled([\r\n      fetchRemoteOKJobs(),\r\n      fetchGitHubJobs(),\r\n      fetchWeWorkRemotelyJobs(filters.category)\r\n    ]);\r\n    \r\n    let allJobs = [\r\n      ...(remoteOKJobs.status === 'fulfilled' ? remoteOKJobs.value : []),\r\n      ...(githubJobs.status === 'fulfilled' ? githubJobs.value : []),\r\n      ...(wwrJobs.status === 'fulfilled' ? wwrJobs.value : [])\r\n    ];\r\n    \r\n    // 如果所有API都失败，返回空数组\r\n    if (allJobs.length === 0) {\r\n      throw new Error('Failed to fetch jobs from any source');\r\n    }\r\n    \r\n    // 按搜索词过滤\r\n    if (searchTerm) {\r\n      allJobs = allJobs.filter(job => \r\n        job.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        job.company.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        job.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // 去重和排序\r\n    const uniqueJobs = removeDuplicateJobs(allJobs);\r\n    const sortedJobs = uniqueJobs.sort((a, b) => {\r\n      // 优先显示今天发布的工作\r\n      if (a.postedDate === 'Today' && b.postedDate !== 'Today') return -1;\r\n      if (a.postedDate !== 'Today' && b.postedDate === 'Today') return 1;\r\n      return 0;\r\n    });\r\n    \r\n    return {\r\n      jobs: sortedJobs,\r\n      total: sortedJobs.length,\r\n      sources: ['RemoteOK', 'WeWorkRemotely', 'GitHub Jobs'].filter(source => \r\n        allJobs.some(job => job.source === source)\r\n      )\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching real remote jobs:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 生成示例工作数据（当所有API都失败时使用）\r\nconst generateSampleJobs = async () => {\r\n  console.log('🔄 生成示例工作数据...');\r\n  \r\n  const sampleJobs = [\r\n    {\r\n      id: 'sample-1',\r\n      title: 'Senior Frontend Developer',\r\n      company: 'TechCorp',\r\n      companyLogo: 'https://logo.clearbit.com/techcorp.com',\r\n      location: 'Remote - Global',\r\n      type: 'Full-time',\r\n      salary: 120,\r\n      team: 'Frontend',\r\n      postedDate: 'Today',\r\n      views: 156,\r\n      applicants: 12,\r\n      description: 'We are looking for a Senior Frontend Developer to join our remote team. You will work on building modern web applications using React and TypeScript.',\r\n      skills: ['React', 'TypeScript', 'JavaScript', 'CSS', 'HTML'],\r\n      source: 'Sample Data',\r\n      sourceUrl: 'https://example.com/jobs/1',\r\n      sourceId: 'sample-1'\r\n    },\r\n    {\r\n      id: 'sample-2',\r\n      title: 'Backend Engineer',\r\n      company: 'DataFlow Inc',\r\n      companyLogo: 'https://logo.clearbit.com/dataflow.com',\r\n      location: 'Remote - US',\r\n      type: 'Full-time',\r\n      salary: 115,\r\n      team: 'Backend',\r\n      postedDate: 'Yesterday',\r\n      views: 89,\r\n      applicants: 8,\r\n      description: 'Join our backend team to build scalable APIs and microservices. Experience with Node.js and cloud platforms required.',\r\n      skills: ['Node.js', 'Python', 'AWS', 'MongoDB', 'Docker'],\r\n      source: 'Sample Data',\r\n      sourceUrl: 'https://example.com/jobs/2',\r\n      sourceId: 'sample-2'\r\n    },\r\n    {\r\n      id: 'sample-3',\r\n      title: 'UX Designer',\r\n      company: 'DesignStudio',\r\n      companyLogo: 'https://logo.clearbit.com/designstudio.com',\r\n      location: 'Remote - Europe',\r\n      type: 'Full-time',\r\n      salary: 95,\r\n      team: 'UX/UI',\r\n      postedDate: '2 days ago',\r\n      views: 234,\r\n      applicants: 15,\r\n      description: 'We need a talented UX Designer to create intuitive user experiences for our digital products. Remote-first company with flexible hours.',\r\n      skills: ['Figma', 'Sketch', 'User Research', 'Prototyping', 'UI/UX'],\r\n      source: 'Sample Data',\r\n      sourceUrl: 'https://example.com/jobs/3',\r\n      sourceId: 'sample-3'\r\n    }\r\n  ];\r\n  \r\n  return sampleJobs;\r\n};\r\n\r\n// 去重函数\r\nconst removeDuplicateJobs = (jobs) => {\r\n  const seen = new Set();\r\n  return jobs.filter(job => {\r\n    const key = `${job.title}-${job.company}`.toLowerCase().replace(/\\s+/g, '');\r\n    if (seen.has(key)) {\r\n      return false;\r\n    }\r\n    seen.add(key);\r\n    return true;\r\n  });\r\n};\r\n\r\nexport default {\r\n  fetchRealRemoteJobs,\r\n  fetchRemoteOKJobs,\r\n  fetchGitHubJobs,\r\n  fetchWeWorkRemotelyJobs\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}